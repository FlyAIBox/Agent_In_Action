# ç¬¬3å‘¨ï¼šä»éœ€æ±‚åˆ°ç”Ÿäº§ - ä¼ä¸šçº§ AI æ—…è¡Œè§„åˆ’æ™ºèƒ½ä½“å…¨ç”Ÿå‘½å‘¨æœŸå¼€å‘

> **è¯¾ç¨‹å®šä½**ï¼šä»¥ä¼ä¸šçœŸå®é¡¹ç›®å¼€å‘æµç¨‹ä¸ºä¸»çº¿ï¼Œä»éœ€æ±‚è°ƒç ”å¼€å§‹ï¼Œç»è¿‡æ¶æ„è®¾è®¡ã€æ•°æ®è®¾è®¡ã€å…¨æ ˆå¼€å‘ï¼Œæœ€ç»ˆå®ç°ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€‚

---

## ğŸ“š æœ¬å‘¨å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬å‘¨å­¦ä¹ ï¼Œä½ å°†æŒæ¡ï¼š

1. **ä¼ä¸šçº§é¡¹ç›®å¼€å‘æµç¨‹**ï¼šéœ€æ±‚è°ƒç ” â†’ æ¶æ„è®¾è®¡ â†’ æ•°æ®è®¾è®¡ â†’ å¼€å‘å®ç° â†’ éƒ¨ç½²è¿ç»´
2. **ç³»ç»Ÿæ¶æ„è®¾è®¡èƒ½åŠ›**ï¼šåˆ†å±‚æ¶æ„ã€æ¨¡å—è¾¹ç•Œã€æ¥å£è§„èŒƒ
3. **æ•°æ®æ¨¡å‹è®¾è®¡èƒ½åŠ›**ï¼šå®ä½“å…³ç³»è®¾è®¡ã€æ•°æ®æµè®¾è®¡
4. **å…¨æ ˆå¼€å‘èƒ½åŠ›**ï¼šFastAPI åç«¯ + Streamlit å‰ç«¯
5. **æ™ºèƒ½ä½“ç¼–æ’èƒ½åŠ›**ï¼šLangGraph å¤šæ™ºèƒ½ä½“åä½œ
6. **å®¹å™¨åŒ–éƒ¨ç½²èƒ½åŠ›**ï¼šDocker + Docker Compose ä¸€é”®éƒ¨ç½²

---

## ğŸ“‚ é…å¥—èµ„æº

- **ä»£ç ç›®å½•**ï¼š`03-agent-build-docker-deploy/`
  - `backend/` - åç«¯æœåŠ¡ï¼ˆFastAPI + LangGraphï¼‰
  - `frontend/` - å‰ç«¯ç•Œé¢ï¼ˆStreamlitï¼‰
  - `docker-compose.yml` - å®¹å™¨ç¼–æ’é…ç½®
  - `docs/` - å®Œæ•´æŠ€æœ¯æ–‡æ¡£

- **å‚è€ƒæ–‡æ¡£**ï¼š
  - `docs/enterprise/01_discovery_research.md` - éœ€æ±‚è°ƒç ”æŠ¥å‘Š
  - `docs/enterprise/02_requirements_spec.md` - éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦
  - `docs/enterprise/03_system_design.md` - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£
  - `docs/enterprise/04_data_design.md` - æ•°æ®è®¾è®¡æ–‡æ¡£
  - `docs/enterprise/05_business_processes.md` - ä¸šåŠ¡æµç¨‹æ–‡æ¡£
  - `docs/enterprise/06_deployment_and_operations.md` - éƒ¨ç½²ä¸è¿ç»´æ–‡æ¡£

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯¾ç¨‹å¯¼å…¥ä¸é¡¹ç›®å…¨æ™¯ï¼ˆ20åˆ†é’Ÿï¼‰

### 1.1 ä¼ä¸šçº§å¼€å‘ vs Demo å¼€å‘

**å¹»ç¯ç‰‡1ï¼šä» Demo åˆ°ä¼ä¸šçº§ç³»ç»Ÿçš„è½¬å˜**

| ç»´åº¦ | Demo å¼€å‘ | ä¼ä¸šçº§å¼€å‘ |
| ---- | --------- | ---------- |
| **éœ€æ±‚** | æƒ³åˆ°å“ªåšåˆ°å“ª | ç³»ç»ŸåŒ–è°ƒç ”ï¼Œæ˜ç¡®ä¸šåŠ¡ç›®æ ‡ |
| **æ¶æ„** | å•æ–‡ä»¶è„šæœ¬ | åˆ†å±‚æ¶æ„ï¼Œæ¸…æ™°è¾¹ç•Œ |
| **æ•°æ®** | ç¡¬ç¼–ç æ•°æ® | è§„èŒƒçš„æ•°æ®æ¨¡å‹è®¾è®¡ |
| **å¼€å‘** | å¿«é€ŸåŸå‹ | æ¨¡å—åŒ–ã€å¯æµ‹è¯•ã€å¯ç»´æŠ¤ |
| **éƒ¨ç½²** | æœ¬åœ°è¿è¡Œ | å®¹å™¨åŒ–ã€è‡ªåŠ¨åŒ–éƒ¨ç½² |
| **è¿ç»´** | æ— ç›‘æ§ | æ—¥å¿—ã€ç›‘æ§ã€å‘Šè­¦ä½“ç³» |

**å¹»ç¯ç‰‡2ï¼šä¼ä¸šçº§å¼€å‘çš„æ ¸å¿ƒä»·å€¼**
- ğŸ¯ **å¯ç»´æŠ¤æ€§**ï¼šæ¸…æ™°çš„æ¶æ„å’Œæ–‡æ¡£ï¼Œæ–°äººèƒ½å¿«é€Ÿä¸Šæ‰‹
- ğŸš€ **å¯æ‰©å±•æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- ğŸ”’ **å¯é æ€§**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶
- ğŸ“Š **å¯è§‚æµ‹æ€§**ï¼šæ—¥å¿—ã€ç›‘æ§ã€è¿½è¸ªç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- ğŸ³ **å¯éƒ¨ç½²æ€§**ï¼šå®¹å™¨åŒ–ï¼Œä¸€é”®éƒ¨ç½²åˆ°ä»»ä½•ç¯å¢ƒ

### 1.2 è¯¾ç¨‹æ•´ä½“æ¶æ„

**å¹»ç¯ç‰‡3ï¼šä¼ä¸šçº§å¼€å‘äº”æ­¥æ³•**

```
ç¬¬ä¸€é˜¶æ®µï¼šéœ€æ±‚ä¸è®¾è®¡ï¼ˆä»»åŠ¡ 12ï¼Œ60åˆ†é’Ÿï¼‰
â”‚
â”œâ”€ Step 1: éœ€æ±‚è°ƒç ”ä¸åˆ†æï¼ˆ15åˆ†é’Ÿï¼‰
â”‚   â”œâ”€ ä¸šåŠ¡èƒŒæ™¯ä¸ç—›ç‚¹
â”‚   â”œâ”€ ç”¨æˆ·ç”»åƒä¸åœºæ™¯
â”‚   â”œâ”€ ä¸šåŠ¡ç›®æ ‡ä¸çº¦æŸ
â”‚   â””â”€ å¤–éƒ¨æ¥å£ä¸æ³•è§„
â”‚
â”œâ”€ Step 2: ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ˆ20åˆ†é’Ÿï¼‰
â”‚   â”œâ”€ åˆ†å±‚æ¶æ„è®¾è®¡
â”‚   â”œâ”€ æ¨¡å—è¾¹ç•Œä¸èŒè´£
â”‚   â”œâ”€ API æ¥å£è§„èŒƒ
â”‚   â””â”€ é”™è¯¯å¤„ç†ä¸å›é€€ç­–ç•¥
â”‚
â”œâ”€ Step 3: æ•°æ®æ¨¡å‹è®¾è®¡ï¼ˆ15åˆ†é’Ÿï¼‰
â”‚   â”œâ”€ æ ¸å¿ƒå®ä½“å®šä¹‰
â”‚   â”œâ”€ å®ä½“å…³ç³»è®¾è®¡
â”‚   â”œâ”€ æ•°æ®æµè®¾è®¡
â”‚   â””â”€ å­˜å‚¨ç­–ç•¥
â”‚
â””â”€ Step 4: ä¸šåŠ¡æµç¨‹è®¾è®¡ï¼ˆ10åˆ†é’Ÿï¼‰
    â”œâ”€ ç«¯åˆ°ç«¯æµç¨‹
    â”œâ”€ çŠ¶æ€æœºè®¾è®¡
    â””â”€ å¼‚å¸¸å¤„ç†æµç¨‹

ç¬¬äºŒé˜¶æ®µï¼šå…¨æ ˆå¼€å‘ï¼ˆä»»åŠ¡ 13ï¼Œ80åˆ†é’Ÿï¼‰
â”‚
â”œâ”€ Part 1: åç«¯å¼€å‘ï¼ˆ40åˆ†é’Ÿï¼‰
â”‚   â”œâ”€ FastAPI æ¥å£å¼€å‘
â”‚   â”œâ”€ LangGraph æ™ºèƒ½ä½“é›†æˆ
â”‚   â””â”€ å·¥å…·å±‚å®ç°
â”‚
â””â”€ Part 2: å‰ç«¯å¼€å‘ï¼ˆ40åˆ†é’Ÿï¼‰
    â”œâ”€ Streamlit ç•Œé¢å¼€å‘
    â”œâ”€ çŠ¶æ€ç®¡ç†
    â””â”€ API é›†æˆ

ç¬¬ä¸‰é˜¶æ®µï¼šå®¹å™¨åŒ–éƒ¨ç½²ï¼ˆä»»åŠ¡ 14ï¼Œ40åˆ†é’Ÿï¼‰
â”‚
â”œâ”€ Docker å®¹å™¨åŒ–
â”œâ”€ Docker Compose ç¼–æ’
â””â”€ ç”Ÿäº§ç¯å¢ƒè¿ç»´
```

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šä»»åŠ¡ 12 - éœ€æ±‚ä¸è®¾è®¡ï¼ˆ60åˆ†é’Ÿï¼‰

### 2.1 éœ€æ±‚è°ƒç ”ä¸åˆ†æï¼ˆ15åˆ†é’Ÿï¼‰

**æ ¸å¿ƒè¦ç‚¹**ï¼š
- âœ… æ˜ç¡®ä¸šåŠ¡èƒŒæ™¯ä¸ç—›ç‚¹
- âœ… è¯†åˆ«ç”¨æˆ·ç”»åƒä¸ä½¿ç”¨åœºæ™¯
- âœ… ç¡®å®šä¸šåŠ¡ç›®æ ‡ä¸æˆåŠŸæ ‡å‡†
- âœ… æ¢³ç†æŠ€æœ¯çº¦æŸä¸æ³•è§„è¦æ±‚

**å‚è€ƒæ–‡æ¡£**ï¼š`docs/enterprise/01_discovery_research.md`

**å…³é”®é—®é¢˜**ï¼š
1. **æˆ‘ä»¬è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ**
   - ä¸ºä¼ä¸šæ—…è¡ŒæœåŠ¡å•†æä¾›è‡ªåŠ¨åŒ–æ—…è¡Œè§„åˆ’èƒ½åŠ›
   - é™ä½äººå·¥å®¢æœæˆæœ¬ï¼Œæå‡æŠ¥ä»·æ•ˆç‡
   - ç­–åˆ’å¸ˆä¾èµ–ç»éªŒï¼Œæ•ˆç‡ä½ä¸”ä¸ä¸€è‡´

2. **è°ä¼šä½¿ç”¨è¿™ä¸ªç³»ç»Ÿï¼Ÿ**
   - ä¼ä¸šå·®æ—…ç­–åˆ’å¸ˆï¼šå¿«é€ŸæŸ¥è¯¢å¤šç›®çš„åœ°è¡Œç¨‹
   - å®¢æœæˆ–é”€å”®ï¼šå¿«é€Ÿå“åº”å®¢æˆ·å’¨è¯¢
   - è¿è¥ç»ç†ï¼šç›‘æ§ä»»åŠ¡æ‰§è¡Œï¼Œå¤„ç†å¼‚å¸¸

3. **æœ‰å“ªäº›çº¦æŸæ¡ä»¶ï¼Ÿ**
   - å›½å†…éƒ¨ç½²ï¼Œæµ·å¤– API å—é™
   - ä½¿ç”¨å›½å†…åˆè§„æœåŠ¡ï¼ˆQWeatherã€é«˜å¾·ï¼‰
   - å“åº”æ—¶é—´ â‰¤ 3 åˆ†é’Ÿï¼Œå¯ç”¨æ€§ â‰¥ 99%

4. **æˆåŠŸçš„æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ**
   - èŠ‚çœç­–åˆ’å¸ˆ 60% çš„æœç´¢æ—¶é—´
   - å†…å®¹è¦†ç›–è¡Œç¨‹ã€é¢„ç®—ã€å¤©æ°”ã€ä½å®¿
   - éƒ¨ç½²è‡ªåŠ¨åŒ–ï¼Œå…·å¤‡ç›‘æ§å‘Šè­¦

### 2.2 ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ˆ20åˆ†é’Ÿï¼‰

**æ ¸å¿ƒè¦ç‚¹**ï¼š
- âœ… å»ºç«‹æ¸…æ™°çš„åˆ†å±‚æ¶æ„
- âœ… å®šä¹‰æ¨¡å—è¾¹ç•Œä¸èŒè´£
- âœ… è®¾è®¡ RESTful API æ¥å£
- âœ… åˆ¶å®šé”™è¯¯å¤„ç†ä¸å›é€€ç­–ç•¥

**å‚è€ƒæ–‡æ¡£**ï¼š`docs/enterprise/03_system_design.md`

**åˆ†å±‚æ¶æ„**ï¼š

```
å±•ç¤ºå±‚ (Streamlit)
    â†“ HTTP/REST API
æœåŠ¡å±‚ (FastAPI)
    â†“ Python è°ƒç”¨
æ™ºèƒ½ä½“å±‚ (LangGraph)
    â†“ å·¥å…·è°ƒç”¨
å·¥å…·å±‚ (DuckDuckGo + MCP)
    â†“ HTTP è¯·æ±‚
å¤–éƒ¨æœåŠ¡ (QWeather, AMap)
```

**æ ¸å¿ƒ API æ¥å£**ï¼š
- `GET /` - ç³»ç»Ÿä¿¡æ¯
- `GET /health` - å¥åº·æ£€æŸ¥
- `POST /plan` - åˆ›å»ºè§„åˆ’ä»»åŠ¡
- `GET /status/{task_id}` - æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
- `GET /download/{task_id}` - ä¸‹è½½ç»“æœ
- `POST /simple-plan` - ç®€åŒ–æ¨¡å¼
- `POST /mock-plan` - æ¨¡æ‹Ÿæ¨¡å¼

**æ¨¡å—èŒè´£çŸ©é˜µ**ï¼š

| æ¨¡å— | æ–‡ä»¶è·¯å¾„ | æ ¸å¿ƒèŒè´£ | æŠ€æœ¯æ ˆ |
| ---- | -------- | -------- | ------ |
| å‰ç«¯ | `frontend/streamlit_app.py` | ç”¨æˆ·äº¤äº’ã€ç»“æœå±•ç¤º | Streamlit |
| åç«¯ API | `backend/api_server.py` | REST APIã€ä»»åŠ¡è°ƒåº¦ | FastAPI |
| å¤šæ™ºèƒ½ä½“ | `backend/agents/langgraph_agents.py` | å·¥ä½œæµç¼–æ’ | LangGraph |
| å·¥å…·é›†æˆ | `backend/tools/travel_tools.py` | æœç´¢å·¥å…· | DuckDuckGo |
| é…ç½®ç®¡ç† | `backend/config/` | ç¯å¢ƒå˜é‡ | python-dotenv |
| æ•°æ®æ¨¡å‹ | `backend/data/models.py` | å®ä½“å®šä¹‰ | Pydantic |

### 2.3 æ•°æ®æ¨¡å‹è®¾è®¡ï¼ˆ15åˆ†é’Ÿï¼‰

**æ ¸å¿ƒè¦ç‚¹**ï¼š
- âœ… å®šä¹‰æ ¸å¿ƒå®ä½“ç»“æ„
- âœ… è®¾è®¡å®ä½“å…³ç³»æ¨¡å‹
- âœ… è§„åˆ’æ•°æ®æµè½¬è·¯å¾„
- âœ… åˆ¶å®šå­˜å‚¨ä¸æŒä¹…åŒ–ç­–ç•¥

**å‚è€ƒæ–‡æ¡£**ï¼š`docs/enterprise/04_data_design.md`

**æ ¸å¿ƒå®ä½“**ï¼š

1. **Weatherï¼ˆå¤©æ°”ä¿¡æ¯ï¼‰**
   - temperature, description, humidity, wind_speed, feels_like, date

2. **Attractionï¼ˆæ™¯ç‚¹/é¤é¥®/æ´»åŠ¨ï¼‰**
   - name, type, rating, price_level, address, description, estimated_cost, duration

3. **Hotelï¼ˆé…’åº—ï¼‰**
   - name, rating, price_per_night, address, amenities

4. **Transportationï¼ˆäº¤é€šï¼‰**
   - mode, estimated_cost, duration

5. **DayPlanï¼ˆæ¯æ—¥è¡Œç¨‹ï¼‰**
   - day, date, weather, attractions, restaurants, activities, transportation, daily_cost

6. **TripSummaryï¼ˆè¡Œç¨‹æ€»ç»“ï¼‰**
   - destination, dates, total_cost, itinerary, hotels, summaries, recommendations

**å®ä½“å…³ç³»**ï¼š
- TripSummary åŒ…å«å¤šä¸ª DayPlan
- TripSummary åŒ…å«å¤šä¸ª Hotel
- DayPlan å¼•ç”¨ä¸€ä¸ª Weather
- DayPlan åŒ…å«å¤šä¸ª Attraction
- DayPlan ä½¿ç”¨å¤šä¸ª Transportation

**å­˜å‚¨ç­–ç•¥**ï¼š
- ä»»åŠ¡çŠ¶æ€ â†’ `tasks_state.json`ï¼ˆå¯è¿ç§»åˆ° Redisï¼‰
- è§„åˆ’ç»“æœ â†’ `results/*.json`ï¼ˆå¯è¿ç§»åˆ° S3/æ•°æ®åº“ï¼‰
- æ—¥å¿— â†’ `logs/*.log`ï¼ˆå¯æ¥å…¥ ELKï¼‰

### 2.4 ä¸šåŠ¡æµç¨‹è®¾è®¡ï¼ˆ10åˆ†é’Ÿï¼‰

**æ ¸å¿ƒè¦ç‚¹**ï¼š
- âœ… æ¢³ç†ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹
- âœ… è®¾è®¡ LangGraph çŠ¶æ€æœº
- âœ… å®šä¹‰ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ
- âœ… è§„åˆ’å¼‚å¸¸å¤„ç†è·¯å¾„

**å‚è€ƒæ–‡æ¡£**ï¼š`docs/enterprise/05_business_processes.md`

**ç«¯åˆ°ç«¯æµç¨‹**ï¼š
1. ç”¨æˆ·å¡«å†™è¡¨å• â†’ POST /plan
2. åç«¯éªŒè¯æ•°æ® â†’ åˆ›å»ºä»»åŠ¡
3. åå°å¼‚æ­¥æ‰§è¡Œ â†’ LangGraph æˆ– SimpleTravelAgent
4. å‰ç«¯è½®è¯¢çŠ¶æ€ â†’ GET /status/{task_id}
5. ä»»åŠ¡å®Œæˆ â†’ å±•ç¤ºç»“æœ
6. ç”¨æˆ·ä¸‹è½½ â†’ GET /download/{task_id}

**LangGraph å·¥ä½œæµ**ï¼š
```
Coordinatorï¼ˆåè°ƒå‘˜ï¼‰
  â†“
TravelAdvisorï¼ˆæ—…è¡Œé¡¾é—®ï¼‰â†’ Toolsï¼ˆå·¥å…·è°ƒç”¨ï¼‰
  â†“
WeatherAnalystï¼ˆå¤©æ°”åˆ†æå¸ˆï¼‰â†’ Tools
  â†“
BudgetOptimizerï¼ˆé¢„ç®—ä¼˜åŒ–å¸ˆï¼‰
  â†“
LocalExpertï¼ˆå½“åœ°ä¸“å®¶ï¼‰â†’ Tools
  â†“
ItineraryPlannerï¼ˆè¡Œç¨‹è§„åˆ’å¸ˆï¼‰
  â†“
ENDï¼ˆå®Œæˆï¼‰
```

**ä»»åŠ¡çŠ¶æ€ç”Ÿå‘½å‘¨æœŸ**ï¼š
- started â†’ processing â†’ completed
- started â†’ processing â†’ timeout â†’ completedï¼ˆé™çº§ï¼‰
- started â†’ processing â†’ failed

**å¼‚å¸¸å¤„ç†ç­–ç•¥**ï¼š
- LangGraph è¶…æ—¶ â†’ SimpleTravelAgent
- å·¥å…·è°ƒç”¨å¤±è´¥ â†’ å›é€€æ•°æ®
- å¤–éƒ¨ API å¼‚å¸¸ â†’ é‡è¯• 3 æ¬¡
- æ•°æ®éªŒè¯å¤±è´¥ â†’ è¿”å› 400 é”™è¯¯

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»»åŠ¡ 13 - å…¨æ ˆå¼€å‘ï¼ˆ80åˆ†é’Ÿï¼‰

### Part 1ï¼šåç«¯å¼€å‘ï¼ˆ40åˆ†é’Ÿï¼‰

#### 3.1 FastAPI æ¡†æ¶åŸºç¡€ï¼ˆ10åˆ†é’Ÿï¼‰

**ä¸ºä»€ä¹ˆé€‰æ‹© FastAPIï¼Ÿ**
- âš¡ é«˜æ€§èƒ½ï¼ˆä¸ NodeJSã€Go ç›¸å½“ï¼‰
- ğŸš€ åŸç”Ÿå¼‚æ­¥æ”¯æŒï¼ˆasync/awaitï¼‰
- ğŸ”’ è‡ªåŠ¨æ•°æ®éªŒè¯ï¼ˆPydanticï¼‰
- ğŸ“ è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ï¼ˆSwagger UIï¼‰
- ğŸ¯ ç±»å‹å®‰å…¨ï¼ˆIDE å‹å¥½ï¼‰

**æ ¸å¿ƒç‰¹æ€§æ¼”ç¤º**ï¼š

```python
from fastapi import FastAPI, BackgroundTasks
from pydantic import BaseModel

app = FastAPI(title="æ—…å°æ™º API", version="2.0.0")

class TravelRequest(BaseModel):
    destination: str
    start_date: str
    group_size: int

@app.post("/plan")
async def create_plan(
    request: TravelRequest,
    background_tasks: BackgroundTasks
):
    # è‡ªåŠ¨éªŒè¯è¯·æ±‚æ•°æ®
    task_id = generate_task_id()
    # åå°ä»»åŠ¡ï¼ˆä¸é˜»å¡ï¼‰
    background_tasks.add_task(run_planning, task_id)
    return {"task_id": task_id, "status": "started"}
```

#### 3.2 æ ¸å¿ƒ API å®ç°ï¼ˆ15åˆ†é’Ÿï¼‰

**å…³é”®æ–‡ä»¶**ï¼š`backend/api_server.py`

**å®ç°è¦ç‚¹**ï¼š
1. **ç³»ç»Ÿç®¡ç†æ¥å£**
   - `GET /` - ç³»ç»Ÿä¿¡æ¯
   - `GET /health` - å¥åº·æ£€æŸ¥ï¼ˆå«ç³»ç»Ÿèµ„æºç›‘æ§ï¼‰

2. **ä¸šåŠ¡æ¥å£**
   - `POST /plan` - åˆ›å»ºä»»åŠ¡ + åå°æ‰§è¡Œ
   - `GET /status/{task_id}` - æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
   - `GET /download/{task_id}` - ä¸‹è½½ç»“æœæ–‡ä»¶

3. **åå°ä»»åŠ¡å¤„ç†**
   - `run_planning_task()` - å¼‚æ­¥æ‰§è¡Œè§„åˆ’
   - è¶…æ—¶æ§åˆ¶ï¼ˆ300 ç§’ï¼‰
   - é™çº§å¤„ç†ï¼ˆSimpleTravelAgentï¼‰
   - ç»“æœæŒä¹…åŒ–

4. **çŠ¶æ€ç®¡ç†**
   - å†…å­˜å­—å…¸ `planning_tasks`
   - å®šæœŸä¿å­˜åˆ° `tasks_state.json`
   - æœåŠ¡å¯åŠ¨æ—¶åŠ è½½

#### 3.3 LangGraph æ™ºèƒ½ä½“é›†æˆï¼ˆ10åˆ†é’Ÿï¼‰

**å…³é”®æ–‡ä»¶**ï¼š`backend/agents/langgraph_agents.py`

**å®ç°è¦ç‚¹**ï¼š
1. **çŠ¶æ€å®šä¹‰**
   ```python
   class TravelPlanState(TypedDict):
       messages: List[BaseMessage]
       destination: str
       duration: int
       budget_range: str
       interests: List[str]
       group_size: int
       current_agent: str
       agent_outputs: Dict[str, Any]
       final_plan: Dict[str, Any]
   ```

2. **èŠ‚ç‚¹å®šä¹‰**
   - coordinator_nodeï¼ˆåè°ƒå‘˜ï¼‰
   - travel_advisor_nodeï¼ˆæ—…è¡Œé¡¾é—®ï¼‰
   - weather_analyst_nodeï¼ˆå¤©æ°”åˆ†æå¸ˆï¼‰
   - budget_optimizer_nodeï¼ˆé¢„ç®—ä¼˜åŒ–å¸ˆï¼‰
   - local_expert_nodeï¼ˆå½“åœ°ä¸“å®¶ï¼‰
   - itinerary_planner_nodeï¼ˆè¡Œç¨‹è§„åˆ’å¸ˆï¼‰
   - tools_nodeï¼ˆå·¥å…·è°ƒç”¨ï¼‰

3. **å·¥ä½œæµæ„å»º**
   ```python
   workflow = StateGraph(TravelPlanState)
   workflow.add_node("coordinator", coordinator_node)
   workflow.add_node("travel_advisor", travel_advisor_node)
   workflow.add_node("tools", tools_node)
   # ... æ·»åŠ å…¶ä»–èŠ‚ç‚¹
   
   workflow.add_edge("coordinator", "travel_advisor")
   workflow.add_conditional_edges(
       "travel_advisor",
       should_call_tools,
       {"tools": "tools", "continue": "coordinator"}
   )
   ```

#### 3.4 å·¥å…·å±‚å®ç°ï¼ˆ5åˆ†é’Ÿï¼‰

**å…³é”®æ–‡ä»¶**ï¼š`backend/tools/travel_tools.py`

**å®ç°å·¥å…·**ï¼š
1. `search_destination_info()` - æœç´¢ç›®çš„åœ°ä¿¡æ¯
2. `search_weather_info()` - æœç´¢å¤©æ°”ä¿¡æ¯
3. `search_attractions()` - æœç´¢æ™¯ç‚¹
4. `search_hotels()` - æœç´¢é…’åº—
5. `search_restaurants()` - æœç´¢é¤å…
6. `search_budget_info()` - æœç´¢é¢„ç®—ä¿¡æ¯

**ä½¿ç”¨ DuckDuckGo æœç´¢**ï¼š
```python
from langchain_core.tools import tool
from duckduckgo_search import DDGS

@tool
def search_destination_info(destination: str) -> str:
    """æœç´¢ç›®çš„åœ°ä¿¡æ¯"""
    try:
        results = DDGS().text(
            f"{destination} æ—…æ¸¸æ”»ç•¥ æ™¯ç‚¹æ¨è",
            region="cn-zh",
            safesearch="moderate",
            max_results=3
        )
        return format_results(results)
    except Exception as e:
        return f"æœç´¢å¤±è´¥: {str(e)}"
```

### Part 2ï¼šå‰ç«¯å¼€å‘ï¼ˆ40åˆ†é’Ÿï¼‰

#### 3.5 Streamlit æ¡†æ¶åŸºç¡€ï¼ˆ10åˆ†é’Ÿï¼‰

**ä¸ºä»€ä¹ˆé€‰æ‹© Streamlitï¼Ÿ**
- ğŸš€ çº¯ Pythonï¼Œæ— éœ€ HTML/CSS/JS
- ğŸ¨ ç¾è§‚çš„å†…ç½® UI ç»„ä»¶
- ğŸ”„ è‡ªåŠ¨é‡æ–°è¿è¡Œï¼Œå®æ—¶æ›´æ–°
- ğŸ“Š é›†æˆæ•°æ®å¯è§†åŒ–åº“
- ğŸ¯ ä¸“æ³¨ä¸šåŠ¡é€»è¾‘

**æ ¸å¿ƒç»„ä»¶**ï¼š
```python
import streamlit as st

# é¡µé¢é…ç½®
st.set_page_config(page_title="æ—…å°æ™º", page_icon="ğŸ¤–", layout="wide")

# å¸ƒå±€
col1, col2 = st.columns(2)
with col1:
    st.text_input("ç›®çš„åœ°")
with col2:
    st.date_input("å‡ºå‘æ—¥æœŸ")

# äº¤äº’
if st.button("å¼€å§‹è§„åˆ’"):
    with st.spinner("è§„åˆ’ä¸­..."):
        result = call_api()
    st.success("è§„åˆ’å®Œæˆï¼")

# çŠ¶æ€ç®¡ç†
if "task_id" not in st.session_state:
    st.session_state.task_id = None
```

#### 3.6 ç”¨æˆ·è¾“å…¥ç•Œé¢ï¼ˆ10åˆ†é’Ÿï¼‰

**å…³é”®æ–‡ä»¶**ï¼š`frontend/streamlit_app.py`

**è¡¨å•è®¾è®¡**ï¼š
```python
with st.form("travel_form"):
    # åŸºæœ¬ä¿¡æ¯
    destination = st.text_input("ç›®çš„åœ°", placeholder="ä¾‹å¦‚: åŒ—äº¬")
    
    # æ—¥æœŸé€‰æ‹©
    col1, col2 = st.columns(2)
    with col1:
        start_date = st.date_input("å‡ºå‘æ—¥æœŸ")
    with col2:
        end_date = st.date_input("è¿”å›æ—¥æœŸ")
    
    # é¢„ç®—èŒƒå›´
    budget = st.select_slider(
        "é¢„ç®—èŒƒå›´",
        options=["ç»æµå®æƒ ", "ä¸­ç­‰é¢„ç®—", "èˆ’é€‚å‹", "è±ªåæ¸¸"]
    )
    
    # äººæ•°
    group_size = st.number_input("äººæ•°", min_value=1, value=2)
    
    # å…´è¶£çˆ±å¥½
    interests = st.multiselect(
        "å…´è¶£çˆ±å¥½",
        ["å†å²æ–‡åŒ–", "è‡ªç„¶é£å…‰", "ç¾é£Ÿä½“éªŒ", "è´­ç‰©", "æ‘„å½±"]
    )
    
    # æäº¤æŒ‰é’®
    submitted = st.form_submit_button("å¼€å§‹è§„åˆ’ ğŸš€")
    
    if submitted:
        # éªŒè¯è¾“å…¥
        if not destination:
            st.error("è¯·è¾“å…¥ç›®çš„åœ°")
        else:
            # è°ƒç”¨åç«¯ API
            response = requests.post(
                f"{API_BASE_URL}/plan",
                json={
                    "destination": destination,
                    "start_date": str(start_date),
                    "end_date": str(end_date),
                    "budget_range": budget,
                    "group_size": group_size,
                    "interests": interests
                }
            )
            task_data = response.json()
            st.session_state.task_id = task_data["task_id"]
```

#### 3.7 å®æ—¶è¿›åº¦ç›‘æ§ï¼ˆ10åˆ†é’Ÿï¼‰

**è½®è¯¢å®ç°**ï¼š
```python
def poll_planning_status(task_id: str):
    """è½®è¯¢ä»»åŠ¡çŠ¶æ€"""
    progress_bar = st.progress(0)
    status_text = st.empty()
    result_container = st.empty()
    
    max_attempts = 60  # æœ€å¤šè½®è¯¢ 60 æ¬¡ï¼ˆ5 åˆ†é’Ÿï¼‰
    
    for attempt in range(max_attempts):
        # æŸ¥è¯¢çŠ¶æ€
        response = requests.get(f"{API_BASE_URL}/status/{task_id}")
        status = response.json()
        
        # æ›´æ–°è¿›åº¦
        progress = status.get("progress", 0)
        progress_bar.progress(progress / 100)
        
        # æ›´æ–°æ¶ˆæ¯
        current_agent = status.get("current_agent", "")
        message = status.get("message", "")
        status_text.info(f"ğŸ¤– {current_agent}: {message}")
        
        # æ£€æŸ¥çŠ¶æ€
        if status["status"] == "completed":
            st.success("âœ… è§„åˆ’å®Œæˆï¼")
            return status["result"]
        elif status["status"] == "failed":
            st.error(f"âŒ è§„åˆ’å¤±è´¥: {message}")
            return None
        
        # ç­‰å¾… 5 ç§’
        time.sleep(5)
    
    st.warning("âš ï¸ è§„åˆ’è¶…æ—¶ï¼Œè¯·ç¨åæŸ¥çœ‹")
    return None
```

#### 3.8 ç»“æœå¯è§†åŒ–å±•ç¤ºï¼ˆ10åˆ†é’Ÿï¼‰

**ç»“æœå±•ç¤º**ï¼š
```python
def display_planning_result(result: Dict):
    """å±•ç¤ºè§„åˆ’ç»“æœ"""
    
    # 1. æ¦‚è§ˆæŒ‡æ ‡
    st.markdown("### ğŸ“‹ è§„åˆ’æ¦‚è§ˆ")
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric("ç›®çš„åœ°", result["destination"])
    with col2:
        st.metric("å¤©æ•°", f"{result['total_days']}å¤©")
    with col3:
        st.metric("æ€»é¢„ç®—", f"Â¥{result['total_cost']:.0f}")
    with col4:
        st.metric("æ¯æ—¥é¢„ç®—", f"Â¥{result['daily_budget']:.0f}")
    
    # 2. æ¯æ—¥è¡Œç¨‹
    st.markdown("### ğŸ“… è¯¦ç»†è¡Œç¨‹")
    for day_plan in result["itinerary"]:
        with st.expander(f"ç¬¬ {day_plan['day']} å¤© - {day_plan['date']}"):
            # å¤©æ°”
            weather = day_plan["weather"]
            st.write(f"â˜€ï¸ å¤©æ°”: {weather['description']}, {weather['temperature']}â„ƒ")
            
            # æ™¯ç‚¹
            st.write("**ğŸ›ï¸ æ™¯ç‚¹å®‰æ’:**")
            for attraction in day_plan["attractions"]:
                st.write(f"- {attraction['name']} ({attraction['duration']}å°æ—¶)")
            
            # é¤é¥®
            st.write("**ğŸ½ï¸ é¤é¥®æ¨è:**")
            for restaurant in day_plan["restaurants"]:
                st.write(f"- {restaurant['name']} (è¯„åˆ†: {restaurant['rating']})")
            
            # è´¹ç”¨
            st.write(f"**ğŸ’° å½“æ—¥è´¹ç”¨:** Â¥{day_plan['daily_cost']:.0f}")
    
    # 3. é…’åº—æ¨è
    st.markdown("### ğŸ¨ ä½å®¿æ¨è")
    for hotel in result["hotels"]:
        st.write(f"**{hotel['name']}** (è¯„åˆ†: {hotel['rating']})")
        st.write(f"- ä»·æ ¼: Â¥{hotel['price_per_night']}/æ™š")
        st.write(f"- è®¾æ–½: {', '.join(hotel['amenities'])}")
    
    # 4. æ—…è¡Œè´´å£«
    st.markdown("### ğŸ’¡ æ—…è¡Œè´´å£«")
    for tip in result["travel_tips"]:
        st.info(tip)
    
    # 5. ä¸‹è½½æŒ‰é’®
    st.markdown("### ğŸ“¥ å¯¼å‡ºç»“æœ")
    if st.button("ä¸‹è½½å®Œæ•´æ–¹æ¡ˆ (JSON)"):
        response = requests.get(f"{API_BASE_URL}/download/{task_id}")
        st.download_button(
            label="ç‚¹å‡»ä¸‹è½½",
            data=response.content,
            file_name=f"æ—…è¡Œè®¡åˆ’_{result['destination']}.json",
            mime="application/json"
        )
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šä»»åŠ¡ 14 - Docker å®¹å™¨åŒ–ï¼ˆ40åˆ†é’Ÿï¼‰

### 4.1 Docker åŸºç¡€ï¼ˆ10åˆ†é’Ÿï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦å®¹å™¨åŒ–ï¼Ÿ**

| ç—›ç‚¹ | å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆ |
| ---- | -------------- |
| ğŸ”´ "åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘" | âœ… ç¯å¢ƒä¸€è‡´æ€§ä¿è¯ |
| ğŸ”´ ä¾èµ–å®‰è£…å›°éš¾ | âœ… é•œåƒåŒ…å«æ‰€æœ‰ä¾èµ– |
| ğŸ”´ å¤šæœåŠ¡åè°ƒå¤æ‚ | âœ… Docker Compose ç¼–æ’ |
| ğŸ”´ éƒ¨ç½²æµç¨‹ç¹ç | âœ… ä¸€é”®å¯åŠ¨/åœæ­¢ |
| ğŸ”´ æ‰©å±•å›°éš¾ | âœ… å®¹å™¨åŒ–å¤©ç„¶æ”¯æŒæ‰©å±• |

### 4.2 åç«¯å®¹å™¨åŒ–ï¼ˆ10åˆ†é’Ÿï¼‰

**Dockerfile**ï¼š`backend/Dockerfile`

```dockerfile
FROM python:3.10-slim

WORKDIR /app

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y curl \
    && rm -rf /var/lib/apt/lists/*

# å®‰è£… Python ä¾èµ–
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# åˆ›å»ºæ•°æ®ç›®å½•
RUN mkdir -p results logs

EXPOSE 8080

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=10s \
    CMD curl -f http://localhost:8080/health || exit 1

CMD ["python", "api_server.py"]
```

### 4.3 å‰ç«¯å®¹å™¨åŒ–ï¼ˆ10åˆ†é’Ÿï¼‰

**Dockerfile**ï¼š`frontend/Dockerfile`

```dockerfile
FROM python:3.10-slim

WORKDIR /app

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y curl \
    && rm -rf /var/lib/apt/lists/*

# å®‰è£… Python ä¾èµ–
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

EXPOSE 8501

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=10s \
    CMD curl -f http://localhost:8501/_stcore/health || exit 1

CMD ["streamlit", "run", "streamlit_app.py", \
     "--server.port=8501", \
     "--server.address=0.0.0.0"]
```

### 4.4 Docker Compose ç¼–æ’ï¼ˆ10åˆ†é’Ÿï¼‰

**docker-compose.yml**ï¼š

```yaml
version: '3.8'

services:
  # åç«¯æœåŠ¡
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    env_file:
      - ./backend/.env
    volumes:
      - ./results:/app/results
      - ./logs:/app/logs
    networks:
      - travel-network
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  # å‰ç«¯æœåŠ¡
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "8501:8501"
    environment:
      - API_BASE_URL=http://backend:8080
    depends_on:
      - backend
    networks:
      - travel-network
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8501/_stcore/health"]
      interval: 30s
      timeout: 10s
      retries: 3

networks:
  travel-network:
    driver: bridge

volumes:
  results:
    driver: local
  logs:
    driver: local
```

**å…³é”®é…ç½®è¯´æ˜**ï¼š
- `depends_on`: å‰ç«¯ä¾èµ–åç«¯ï¼Œç¡®ä¿å¯åŠ¨é¡ºåº
- `environment`: å‰ç«¯ä½¿ç”¨æœåŠ¡å `backend` è®¿é—®åç«¯ï¼ˆDocker å†…éƒ¨ DNSï¼‰
- `volumes`: æŒä¹…åŒ–ç»“æœå’Œæ—¥å¿—
- `healthcheck`: è‡ªåŠ¨å¥åº·æ£€æŸ¥
- `restart: unless-stopped`: å¼‚å¸¸è‡ªåŠ¨é‡å¯

**ä¸€é”®å¯åŠ¨**ï¼š
```bash
# æ„å»ºå¹¶å¯åŠ¨
docker compose up --build -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®
docker compose down -v
```

---

## ç¬¬äº”éƒ¨åˆ†ï¼šç”Ÿäº§ç¯å¢ƒè¿ç»´ï¼ˆ30åˆ†é’Ÿï¼‰

### 5.1 ç¯å¢ƒå˜é‡ç®¡ç†ï¼ˆ5åˆ†é’Ÿï¼‰

**backend/.env**ï¼š
```bash
# LLM é…ç½®ï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=sk-xxxxxxxxxxxx
OPENAI_BASE_URL=https://api.deepseek.com
OPENAI_MODEL=deepseek-chat

# å¤©æ°”æœåŠ¡ï¼ˆå¯é€‰ï¼‰
QWEATHER_API_KEY=your_qweather_key

# ç³»ç»Ÿé…ç½®
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT=300
```

**å®‰å…¨å»ºè®®**ï¼š
- âœ… ä½¿ç”¨ `.env` æ–‡ä»¶ï¼ˆä¸æäº¤åˆ° Gitï¼‰
- âœ… ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆAWS Secrets Managerã€Azure Key Vaultï¼‰
- âœ… å®šæœŸè½®æ¢å¯†é’¥
- âœ… æœ€å°æƒé™åŸåˆ™

### 5.2 æ—¥å¿—ç®¡ç†ï¼ˆ5åˆ†é’Ÿï¼‰

**åç«¯æ—¥å¿—é…ç½®**ï¼š
```python
import logging

def setup_logger():
    logger = logging.getLogger('api_server')
    logger.setLevel(logging.INFO)
    
    # æ–‡ä»¶å¤„ç†å™¨
    fh = logging.FileHandler('logs/backend.log')
    formatter = logging.Formatter(
        '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    )
    fh.setFormatter(formatter)
    logger.addHandler(fh)
    
    return logger

# ä½¿ç”¨
logger.info(f"ä»»åŠ¡ {task_id} å¼€å§‹æ‰§è¡Œ")
logger.error(f"ä»»åŠ¡ {task_id} å¤±è´¥: {error}")
```

**Docker æ—¥å¿—æŸ¥çœ‹**ï¼š
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡
docker compose logs -f backend

# æŸ¥çœ‹æœ€è¿‘100è¡Œ
docker compose logs --tail=100 backend
```

### 5.3 å¥åº·æ£€æŸ¥ä¸ç›‘æ§ï¼ˆ10åˆ†é’Ÿï¼‰

**å¥åº·æ£€æŸ¥ç«¯ç‚¹**ï¼š
```python
@app.get("/health")
async def health_check():
    """å¥åº·æ£€æŸ¥"""
    try:
        import psutil
        memory = psutil.virtual_memory()
        cpu = psutil.cpu_percent(interval=1)
        
        return {
            "status": "healthy",
            "llm_model": config.OPENAI_MODEL,
            "api_key_configured": bool(config.OPENAI_API_KEY),
            "active_tasks": len([
                t for t in planning_tasks.values()
                if t.get("status") == "processing"
            ]),
            "system": {
                "cpu_usage": f"{cpu}%",
                "memory_usage": f"{memory.percent}%"
            }
        }
    except Exception as e:
        return {"status": "error", "message": str(e)}
```

**ç›‘æ§æŒ‡æ ‡**ï¼š
- âœ… ä»»åŠ¡æˆåŠŸç‡
- âœ… å¹³å‡å“åº”æ—¶é—´
- âœ… è¶…æ—¶ä»»åŠ¡æ¯”ä¾‹
- âœ… ç³»ç»Ÿèµ„æºä½¿ç”¨ï¼ˆCPUã€å†…å­˜ï¼‰
- âœ… å¤–éƒ¨ API è°ƒç”¨å¤±è´¥ç‡

### 5.4 æ•…éšœæ’é™¤ï¼ˆ10åˆ†é’Ÿï¼‰

**å¸¸è§é—®é¢˜è¯Šæ–­è¡¨**ï¼š

| ç—‡çŠ¶ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
| ---- | -------- | -------- |
| ğŸ”´ åç«¯å¯åŠ¨å¤±è´¥ | APIå¯†é’¥æœªé…ç½® | æ£€æŸ¥ `.env` æ–‡ä»¶ |
| ğŸ”´ å‰ç«¯æ— æ³•è¿æ¥åç«¯ | ç½‘ç»œé…ç½®é”™è¯¯ | ä½¿ç”¨æœåŠ¡å `backend` è€Œé `localhost` |
| ğŸ”´ ä»»åŠ¡è¶…æ—¶ | LLMå“åº”æ…¢ | å¢åŠ è¶…æ—¶æ—¶é—´æˆ–ä½¿ç”¨é™çº§æ–¹æ¡ˆ |
| ğŸ”´ å®¹å™¨æ— æ³•å¯åŠ¨ | ç«¯å£è¢«å ç”¨ | æ£€æŸ¥ç«¯å£å ç”¨ï¼š`netstat -tlnp \| grep 8080` |
| ğŸ”´ ä¾èµ–å®‰è£…å¤±è´¥ | ç½‘ç»œé—®é¢˜ | ä½¿ç”¨å›½å†…é•œåƒæº |
| ğŸ”´ å†…å­˜æº¢å‡º | ä»»åŠ¡å †ç§¯ | é™åˆ¶å¹¶å‘ä»»åŠ¡æ•° |

**æ’æŸ¥å‘½ä»¤é€ŸæŸ¥**ï¼š
```bash
# 1. æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker compose ps

# 2. æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker compose logs backend
docker compose logs frontend

# 3. è¿›å…¥å®¹å™¨è°ƒè¯•
docker compose exec backend bash

# 4. æ£€æŸ¥ç½‘ç»œ
docker network ls
docker network inspect travel-network

# 5. æ£€æŸ¥ç«¯å£
netstat -tlnp | grep 8080

# 6. æµ‹è¯•API
curl http://localhost:8080/health
curl http://localhost:8080/docs

# 7. é‡å¯æœåŠ¡
docker compose restart backend
docker compose restart frontend

# 8. å®Œå…¨é‡å»º
docker compose down -v
docker compose up --build -d
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šè¯¾ç¨‹æ€»ç»“ä¸æ‹“å±•ï¼ˆ10åˆ†é’Ÿï¼‰

### 6.1 æœ¬å‘¨å­¦ä¹ å›é¡¾

**çŸ¥è¯†ä½“ç³»**ï¼š

```
1. éœ€æ±‚ä¸è®¾è®¡èƒ½åŠ›
   â”œâ”€ éœ€æ±‚è°ƒç ”æ–¹æ³•
   â”œâ”€ ç³»ç»Ÿæ¶æ„è®¾è®¡
   â”œâ”€ æ•°æ®æ¨¡å‹è®¾è®¡
   â””â”€ ä¸šåŠ¡æµç¨‹è®¾è®¡

2. åç«¯å¼€å‘èƒ½åŠ›
   â”œâ”€ FastAPI æ¡†æ¶
   â”œâ”€ å¼‚æ­¥ç¼–ç¨‹
   â”œâ”€ API è®¾è®¡
   â”œâ”€ æ•°æ®éªŒè¯
   â””â”€ é”™è¯¯å¤„ç†

3. æ™ºèƒ½ä½“å¼€å‘èƒ½åŠ›
   â”œâ”€ LangGraph ç¼–æ’
   â”œâ”€ å¤šæ™ºèƒ½ä½“åä½œ
   â”œâ”€ çŠ¶æ€ç®¡ç†
   â”œâ”€ å·¥å…·é›†æˆ
   â””â”€ æç¤ºè¯å·¥ç¨‹

4. å‰ç«¯å¼€å‘èƒ½åŠ›
   â”œâ”€ Streamlit å¼€å‘
   â”œâ”€ äº¤äº’è®¾è®¡
   â”œâ”€ çŠ¶æ€ç®¡ç†
   â””â”€ API é›†æˆ

5. è¿ç»´éƒ¨ç½²èƒ½åŠ›
   â”œâ”€ Docker å®¹å™¨åŒ–
   â”œâ”€ Docker Compose ç¼–æ’
   â”œâ”€ æ—¥å¿—ç®¡ç†
   â”œâ”€ ç›‘æ§å‘Šè­¦
   â””â”€ æ•…éšœæ’é™¤
```

### 6.2 é¡¹ç›®äº®ç‚¹æ€»ç»“

| äº®ç‚¹ | å®ç°æ–¹å¼ | ä»·å€¼ |
| ---- | -------- | ---- |
| ğŸ¯ **åˆ†å±‚æ¶æ„** | å‰ç«¯/åç«¯/æ™ºèƒ½ä½“/å·¥å…·å››å±‚åˆ†ç¦» | èŒè´£æ¸…æ™°ï¼Œæ˜“ç»´æŠ¤ |
| ğŸ¤– **å¤šæ™ºèƒ½ä½“åä½œ** | LangGraph çŠ¶æ€æœºç¼–æ’ | çµæ´»å¯æ‰©å±• |
| âš¡ **å¼‚æ­¥å¤„ç†** | FastAPI + asyncio | é«˜å¹¶å‘æ€§èƒ½ |
| ğŸ”§ **å·¥å…·ç³»ç»Ÿ** | LangChain @tool è£…é¥°å™¨ | ç»Ÿä¸€å·¥å…·æ¥å£ |
| ğŸ” **é…ç½®ç®¡ç†** | .env + Pydantic éªŒè¯ | å®‰å…¨ä¸”ç±»å‹å®‰å…¨ |
| ğŸ“Š **çŠ¶æ€ç®¡ç†** | JSON æŒä¹…åŒ– + å†…å­˜ç¼“å­˜ | å¯æ¢å¤å¯è¿½è¸ª |
| ğŸ³ **å®¹å™¨åŒ–** | Docker + Compose | ä¸€é”®éƒ¨ç½² |
| ğŸ“š **å®Œæ•´æ–‡æ¡£** | éœ€æ±‚/è®¾è®¡/éƒ¨ç½²æ–‡æ¡£é½å…¨ | å¯ç»´æŠ¤æ€§å¼º |

### 6.3 æ‰©å±•æ–¹å‘

**1. åŠŸèƒ½æ‰©å±•**
- âœ¨ å¢åŠ ç”¨æˆ·è®¤è¯ä¸æƒé™ç®¡ç†
- âœ¨ æ”¯æŒå¤šè¯­è¨€ï¼ˆå›½é™…åŒ–ï¼‰
- âœ¨ å¢åŠ æ”¯ä»˜é›†æˆ
- âœ¨ å®æ—¶èŠå¤©åŠŸèƒ½ï¼ˆWebSocketï¼‰
- âœ¨ è¡Œç¨‹åˆ†äº«ä¸åä½œç¼–è¾‘

**2. æŠ€æœ¯å‡çº§**
- ğŸš€ ä»»åŠ¡çŠ¶æ€è¿ç§»åˆ° Redis
- ğŸš€ ç»“æœå­˜å‚¨è¿ç§»åˆ° PostgreSQL/MongoDB
- ğŸš€ æ¥å…¥ Langfuse è¿›è¡Œå¯è§‚æµ‹æ€§
- ğŸš€ ä½¿ç”¨ Kubernetes è¿›è¡Œå®¹å™¨ç¼–æ’
- ğŸš€ é›†æˆ CI/CD æµæ°´çº¿

**3. æ€§èƒ½ä¼˜åŒ–**
- âš¡ å¢åŠ ç¼“å­˜å±‚ï¼ˆRedisï¼‰
- âš¡ å®ç°ä»»åŠ¡é˜Ÿåˆ—ï¼ˆCeleryï¼‰
- âš¡ è´Ÿè½½å‡è¡¡ï¼ˆNginxï¼‰
- âš¡ CDN åŠ é€Ÿ
- âš¡ æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

**4. å®‰å…¨åŠ å›º**
- ğŸ”’ HTTPS éƒ¨ç½²
- ğŸ”’ API é€Ÿç‡é™åˆ¶
- ğŸ”’ è¾“å…¥æ•°æ®æ¸…æ´—
- ğŸ”’ SQL æ³¨å…¥é˜²æŠ¤
- ğŸ”’ XSS é˜²æŠ¤

### 6.4 å­¦ä¹ èµ„æº

**å®˜æ–¹æ–‡æ¡£**ï¼š
- FastAPI: https://fastapi.tiangolo.com/
- Streamlit: https://docs.streamlit.io/
- LangGraph: https://python.langchain.com/docs/langgraph
- Docker: https://docs.docker.com/

**å‚è€ƒé¡¹ç›®**ï¼š
- æœ¬é¡¹ç›®å®Œæ•´ä»£ç ï¼š`03-agent-build-docker-deploy/`
- ä¼ä¸šçº§æ–‡æ¡£ï¼š`docs/enterprise/`

---

## ğŸ“ ä½œä¸šä¸å®è·µ

### å¿…åšä½œä¸š
1. âœ… å®Œæˆéœ€æ±‚è°ƒç ”æ–‡æ¡£ï¼ˆå‚è€ƒ `01_discovery_research.md`ï¼‰
2. âœ… å®Œæˆç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ˆå‚è€ƒ `03_system_design.md`ï¼‰
3. âœ… å®Œæˆæ•°æ®æ¨¡å‹è®¾è®¡ï¼ˆå‚è€ƒ `04_data_design.md`ï¼‰
4. âœ… è¿è¡Œé¡¹ç›®å¹¶æµ‹è¯•æ‰€æœ‰ API æ¥å£
5. âœ… ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²

### é€‰åšä½œä¸š
1. ğŸŒŸ å¢åŠ æ–°çš„æ™ºèƒ½ä½“è§’è‰²ï¼ˆå¦‚"æ‘„å½±é¡¾é—®"ã€"ç¾é£Ÿä¸“å®¶"ï¼‰
2. ğŸŒŸ ä¼˜åŒ–å‰ç«¯ç•Œé¢ï¼ˆæ·»åŠ åœ°å›¾å±•ç¤ºï¼‰
3. ğŸŒŸ æ¥å…¥çœŸå®çš„å¤©æ°” APIï¼ˆQWeatherï¼‰
4. ğŸŒŸ å®ç°ä»»åŠ¡åˆ—è¡¨é¡µé¢
5. ğŸŒŸ ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•

---

## ğŸ¯ è¯¾ç¨‹ç›®æ ‡è¾¾æˆæ£€æŸ¥æ¸…å•

**è®¾è®¡èƒ½åŠ›**ï¼š
- [ ] èƒ½å¤Ÿè¿›è¡Œç³»ç»ŸåŒ–çš„éœ€æ±‚è°ƒç ”
- [ ] èƒ½å¤Ÿè®¾è®¡æ¸…æ™°çš„åˆ†å±‚æ¶æ„
- [ ] èƒ½å¤Ÿè®¾è®¡è§„èŒƒçš„ RESTful API
- [ ] èƒ½å¤Ÿè®¾è®¡å®Œæ•´çš„æ•°æ®æ¨¡å‹
- [ ] èƒ½å¤Ÿç»˜åˆ¶ä¸šåŠ¡æµç¨‹å›¾

**å¼€å‘èƒ½åŠ›**ï¼š
- [ ] æŒæ¡ FastAPI å¼€å‘æŠ€èƒ½
- [ ] æŒæ¡ Streamlit å‰ç«¯å¼€å‘
- [ ] æŒæ¡ LangGraph æ™ºèƒ½ä½“ç¼–æ’
- [ ] æŒæ¡å¼‚æ­¥ç¼–ç¨‹æŠ€å·§
- [ ] æŒæ¡é”™è¯¯å¤„ç†æœºåˆ¶

**éƒ¨ç½²èƒ½åŠ›**ï¼š
- [ ] èƒ½å¤Ÿç¼–å†™ Dockerfile
- [ ] èƒ½å¤Ÿä½¿ç”¨ Docker Compose
- [ ] èƒ½å¤Ÿé…ç½®ç¯å¢ƒå˜é‡
- [ ] èƒ½å¤Ÿæ’æŸ¥å¸¸è§é—®é¢˜
- [ ] èƒ½å¤Ÿç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

---

**è¯¾ç¨‹ç»“æŸï¼Œç¥ä½ åœ¨ä¼ä¸šçº§ AI ç³»ç»Ÿå¼€å‘çš„é“è·¯ä¸Šè¶Šèµ°è¶Šè¿œï¼** ğŸ‰

