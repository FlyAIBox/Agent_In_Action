# AI 旅行规划智能体 - 需求调研报告

## 1. 项目背景
- **业务驱动**：为企业旅行服务商、小型 OTA 或 B2B 差旅平台提供自动化、可扩展的旅行规划能力，降低人工客服成本，提升报价效率。
- **现状痛点**：
  - 策划师依赖经验和手工检索，效率低且缺乏一致性。
  - 企业客户希望按预算、兴趣、合规要求快速得到可执行方案。
  - 国内网络环境下，常见海外 API（OpenWeather、Google Places）访问受限。
- **核心诉求**：在国内可部署，集成可信的天气/POI/汇率服务，具备可观测与扩展能力。

## 2. 调研方法与参与方
| 角色 | 需求关注点 |
| ---- | ---------- |
| 企业旅行顾问主管 | 需要保障行程质量、一致性与可审核性 |
| 客户成功经理 | 希望系统能快速响应客户需求变化 |
| DevOps 团队 | 要求部署流程自动化、容器化，易于运维 |
| 合规与安全团队 | 关注数据来源合法性、用户隐私保护 |

调研手段包括半结构化访谈、竞品分析（携程企业商旅、飞书差旅）、对现有 AI 助手方案的可达性测试。

## 3. 竞品与基准分析
| 方案 | 优势 | 局限 |
| ---- | ---- | ---- |
| 商旅 SaaS（如携程企业商旅） | 国内数据完善，资源直采 | 定制化能力弱，AI 深度有限 |
| GPT/Claude 插件旅行助手 | 生成质量高 | 访问海外服务依赖翻墙，缺乏国内 API 集成 |
| 内部脚本工具 | 针对性强 | 缺少统一标准与可维护性 |

**定位**：构建介于“完全自研”与“商旅 SaaS”之间的可扩展代理平台，为企业提供 AI 规划的基础能力，并支持与内部系统集成。

## 4. 业务目标
1. **效率目标**：旅行报价响应时间 ≤ 3 分钟，节省策划师 60% 的搜索与整理时间。
2. **质量目标**：建议内容覆盖行程、预算、天气、住宿和当地小贴士，支持回溯与人工审核。
3. **合规目标**：使用国内可访问的数据源，提供可追溯数据和操作日志。
4. **运营目标**：部署自动化、支持多环境（Dev/Staging/Prod），具备健康检查、日志、告警体系。

## 5. 外部接口与法规约束
- **和风天气 QWeather**：国内合规天气数据，需遵守 API 使用条款。
- **高德地图 AMap**：POI 数据需按照“高德地图开放平台服务条款”使用；某些场景需标注数据来源。
- **Exchangerate-API**：需注册并遵守请求频率限制。
- **DuckDuckGo 搜索**：无 Key，但需关注请求限流及海外访问稳定性。
- **隐私**：不存储个人敏感信息，旅行请求仅包含偏好信息；结果存在 `results/` 目录供审核，可配置数据保留策略。

## 6. 用户画像与使用场景
| Persona | 需求亮点 | 场景示例 |
| ------- | -------- | -------- |
| 企业差旅策划师 | 快速查询多目的地行程、可编辑、支持人工干预 | 使用前端提交需求，获取可导出的 JSON/PDF 方案 |
| 客服或销售 | 快速响应潜在客户的初步咨询 | 借助简化版智能体生成基础计划，后续人工跟进 |
| 运营经理 | 监控任务执行、处理异常 | 查看任务列表、监控超时、重新触发规划 |

## 7. 关键业务成功要素
1. **多数据源融合**：天气、POI、预算等模块协同，保证内容完整性。
2. **灵活回退策略**：LangGraph 超时或失败时提供简化方案，保证 SLA。
3. **可扩展性**：支持新增 API 或内部服务（如公司内部酒店合同库）。
4. **可观测性**：任务状态、错误、日志与结果可审计。
5. **部署易用性**：提供 Dockerfile 和 Compose，便于 CI/CD 集成。

---

> 本报告作为后续需求规格说明、设计文档和部署计划的输入，为企业客户落地提供调研基础。更多实现细节见同目录下其他文档。

