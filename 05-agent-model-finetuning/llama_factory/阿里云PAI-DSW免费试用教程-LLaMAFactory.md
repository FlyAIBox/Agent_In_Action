为了确保您在使用阿里云 PAI-DSW 进行实验时顺利且**零成本**，我将操作步骤细化为**保姆级教程**。

请务必严格遵循以下流程，特别是关于**地域选择**和**实例释放**的环节。

### 🚨 核心原则

1. **先领券，再创建**：未领取试用包直接创建实例 = **立即扣费**。
2. **不扩容**：创建实例时，系统盘保持默认 100GB，**绝对不要手动增加容量**，否则即使关机也会持续扣钱。
3. **用完即删**：对于免费用户，**“删除实例”** 是唯一 100% 安全的操作。不要仅仅“停止”。

------

### 第一阶段：领取免费资格

**目标**：确保您的账户里已经有了“免费计算时”的余额。

1. **进入试用中心**

   - 登录阿里云控制台。
   - 访问 [阿里云免费试用中心](https://free.aliyun.com/)。

2. **定位产品**

   - 在页面搜索栏输入 `DSW` 或 `交互式建模`。

   - 找到卡片：**“交互式建模 PAI-DSW”**。

     ![交互式建模 PAI-DSW](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251124634.png)

3. **领取权益**

   - 点击卡片上的 **“立即试用”**。

   - 系统会提示您选择“个人”或“企业”认证（需实名认证）。

   - **注意**：如果您以前用过 PAI，这里可能无法领取。

     ![立即试用](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251126499.png)

     ![提交成功](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251127289.png)

     > :notes: [PAI-DSW免费试用：教程指南](https://help.aliyun.com/document_detail/2261126.html?spm=5176.29188366.websiteFastBuy.3.1eaa3e4dVx46y5)

4. **核实到账**

   - 顶部找到 **“我的试用”**。

     ![image-20251125113552833](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251135343.png)

   - 状态栏应显示：`PAI-DSW 免费试用资源抵扣包`，状态为 **“运行中”**。

     ![image-20251125113635128](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251136520.png)

------

### 第二阶段：创建微调环境

**目标**：创建一个既能跑大模型，又符合免费规则的实例。

1. **进入 PAI 控制台**

   - 搜索 `PAI` 进入 **人工智能平台 PAI** 控制台。

     ![image-20251125113805854](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251138185.png)

   - 一键开通 **人工智能平台 PAI** （开通过，请跳过）

     ![image-20251125113959791](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251140191.png)

   - 在左侧导航栏选择 **“交互式建模 (DSW)”**。

     ![image-20251125114132838](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251141237.png)

2. **新建实例（按以下参数严格配置）**

   - 点击 **“创建实例”** 按钮。

   - **基础信息**：

     - **实例名称**：随意填写（如 `LLM-Finetune-01`）。

   - **地域 (Region)**：**非常重要！**

     - 必须选择支持免费试用的地域。

     - **强烈推荐**：**华北 6 (乌兰察布)**。

       ![image-20251125141156026](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251411188.png)

     - *理由*：乌兰察布是算力中心，GPU 资源最丰富，不容易出现“暂无库存”的情况。其他可选：北京、上海、杭州、深圳。

   - **资源类型**：必须选择 **“公共资源”**。

   - **资源规格 (**资源规格选择免费试用资源)**：

     - 为了微调大模型（如 Qwen, Llama-3-8B），你需要显存。

     - **推荐型号**：`ecs.gn7i-c8g1.2xlarge` (A10 显卡, 24G 显存)。

       ![image-20251125140826768](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251408142.png)

     - *消耗速度*：约 7 个计算时/小时（如果不选这个，选 V100 也可以，但消耗更快）。

   - **镜像选择**：

     - 选择 **“官方镜像”**。
     - 推荐：`pytorch:2.6.0-gpu-py310-cu124-ubuntu22.04`

   - **存储配置 (避坑点)**：

     - 系统盘：保持默认 **100GB**。
     - **切勿改动**：**不要**点击“扩容”或将其拉大到 200GB+。免费额度只包 100GB，多出来的部分是按小时收费的，且无法通过关机停止计费。

     | **配置板块** | **配置项**   | **当前设置值**                              | **关键说明（必读）**                                         |
     | ------------ | ------------ | ------------------------------------------- | ------------------------------------------------------------ |
     | **基础信息** | 实例名称     | `LLM-Finetune-01`                           | 自定义名称，方便识别。                                       |
     |              | 标签         | 未绑定标签                                  | 非必须，可忽略。                                             |
     | **资源信息** | **资源类型** | **公共资源**                                | ✅ **正确**。免费试用必须选择“公共资源”。                     |
     |              | **资源规格** | `ecs.gn7i-c8g1.2xlarge`                     | **NVIDIA A10 (24GB 显存)** 8 vCPU, 30 GiB 内存。 适合 7B/8B 模型微调。 |
     |              | 竞价购买     | 关闭 (未开启)                               | ✅ **正确**。保持关闭。                                       |
     |              | 驱动设置     | 默认驱动: 550                               | 适配较新的 CUDA 版本。                                       |
     | **环境信息** | 镜像来源     | 官方镜像                                    | 使用阿里云预置环境，省去配置驱动麻烦。                       |
     |              | **镜像版本** | `pytorch:2.6.0-gpu-py310-cu124-ubuntu22.04` | 包含： • **ModelScope**: 1.18.0 • **PyTorch**: 2.3.0 (较新) • **Python**: 3.10 • **CUDA**: 12.1 • **OS**: Ubuntu 22.04 |
     |              | **系统盘**   | **100 GiB**                                 | ✅ **完美**。 **切勿修改！** 图片底部蓝色提示已明确：“当前实例赠送 100 GiB 免费系统盘额度”。一旦超过 100G，关机也会扣费。 |

3. **提交创建**

   ![image-20251203150222348](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202512031502790.png)

   - 然后点击创建，等几分钟后创建成功。

     ![image-20251125141513402](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251415843.png)

   > #### 重要提示：避免额外计费
   >
   > - **用完立即手动停止实例**：闲置关机策略不保证必定触发。不使用时，请务必在控制台手动停止实例，否则将持续消耗计算时。
   > - **扩容系统盘会持续收费**：试用仅包含免费的100 GB系统盘。任何对系统盘的扩容部分都会产生按量付费，且停止实例无法中止该部分计费。若要彻底停止所有计费，必须删除实例。

------

### 第三阶段：算力规划与使用

> **目标**：清楚自己还能跑多久，避免跑到一半没额度了。
>
> 您领取的额度是 **“计算时 (CU)”**，不是“小时”。
>
> - **每月可用额度**：250 计算时（总额度 750，分 3 个月发）。
> - **A10 显卡 (gn7i) 消耗率**：约 7 计算时 / 1 小时。
>
> 您的实际可用时长计算：
>
> $$\text{每月可用时长} \approx \frac{250 \text{ (额度)}}{7 \text{ (消耗率)}} \approx 35.7 \text{ 小时}$$
>
> **使用建议：**
>
> - 每天学习或微调 1-2 小时，刚好可以用满一个月。
> - **不要挂机过夜！不要挂机过夜！**

#### 1. 控制台访问步骤

1. **登录与定位**：登录 [阿里云 PAI 控制台](https://pai.console.aliyun.com/)。

2. **工作空间选择**：在左侧导航栏单击 **“工作空间列表”**，点击目标工作空间名称进入。

3. **地域切换**：在页面左上方，务必选择您创建实例时所在的地域（如：**华北 6 乌兰察布**）。

4. **进入 DSW**：在左侧导航栏选择 **“模型开发与训练”** > **“交互式建模（DSW）”**。

5. **启动实例**：在实例列表中找到目标实例，单击操作列下的 **“打开”**，即可进入 DSW 编程页面。

   ![image-20251125142537442](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251425883.png)

#### 2. DSW 界面功能详解

进入 DSW 实例后，主要操作区域功能如下：

- **Notebook**：交互式编程环境，支持快速读取数据、开发算法、训练及部署模型（类似 Jupyter）。

- **WebIDE**：基于浏览器的全面集成开发环境，适合编写复杂的工程代码，无需本地配置。

- **Terminal**：命令行终端，用于执行系统级命令（如 `nvidia-smi` 查看显卡、`pip install` 安装库）。

- **资源水位**：位于界面边缘，实时显示当前 **CPU** 和 **内存** 的使用率。

- **配置查看**：可查看当前实例的基础信息、镜像版本和资源规格。

  ![image](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251426413.png)

  | **区域** | **描述**                                                     |
  | -------- | ------------------------------------------------------------ |
  | ①        | 顶部菜单栏。                                                 |
  | ②        | 左侧工具栏。                                                 |
  | ③        | Notebook工具。                                               |
  | ④        | 可查看并修改当前实例配置信息，包括基本信息、镜像和资源等。   |
  | ⑤        | Notebook是一种交互式编程环境，您可以在Notebook中编写和执行代码，实现快速读取数据、开发算法、训练及部署模型。 |
  | ⑥        | WebIDE是一个基于浏览器的全面集成开发环境，它不仅支持Notebook功能，还提供了更多的开发工具特性。您可以通过WebIDE创建、编辑和运行脚本文件，无需安装本地开发环境就能进行复杂的软件开发和维护工作。 |
  | ⑦        | Terminal提供了一个命令行界面，您可以通过Terminal安装软件包、管理文件系统、访问服务器资源、运行Shell脚本以及执行其他与操作系统交互的任务。 |
  | ⑧        | 资源水位，可查看当前CPU和内存使用率。                        |

#### 3. 实例管理操作指引

在 DSW 列表页，点击实例名称或操作栏，可执行以下管理动作：

- **变更配置**：修改实例的资源规格（如升级 GPU）或网络配置。
- **制作镜像**：将当前运行环境（包含已安装的库）保存为 Docker 镜像，方便后续复用。
- **定时关机**：点击 **“定时关机设置”**，开启并设定自动停止时间，防止因忘记关机导致免费额度耗尽。
- **公开实例**：将实例设置为对工作空间内所有成员可见（**注意：此操作不可逆**，一旦公开无法转回私有）。

![img](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251426095.png)

##### **区域①**

您可以在区域①单击DSW实例名称，进入实例详情页面，查看和修改DSW实例的基础信息和实例配置。

- 在**基本信息**区域，修改实例名称。

- 在**事件**页签，查看DSW实例相关事件。

- 在**生命周期**页签，查看DSW实例生命周期详情。

- 单击**公开实例**，该DSW实例将会在工作空间下公开可见，该工作空间内的其他成员都可以访问。

  **重要**

  实例一旦公开，将不可以再转为私有。请谨慎操作。

- 单击**变更配置**，您可以修改资源信息、环境信息和网络配置等。

![image](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251427038.png)

##### **区域②**

您可以在区域②查看并复制DSW实例ID。

##### **区域③**

您可以将鼠标悬浮到区域③，查看DSW实例生命周期详情和资源类型详情。

##### **区域④**

您可以在区域④对目标DSW实例进行如下操作：

- 打开DSW实例

  单击**打开**，进入DSW实例操作页面。

- 停止DSW实例

  单击**停止**，停止DSW实例。

  **重要**

  - 使用**专有资源组**创建的DSW实例如果未挂载数据集，将使用实例自带的系统盘作为临时存储，停止或删除DSW实例后，相关数据将被删除且无法恢复，请谨慎操作。
  - 使用**公共资源组**创建的DSW实例，在停止实例后，实例挂载的免费云盘会帮您保存使用环境，但停机后15天内实例如未再次启动，云盘环境将被释放。
  - 如果创建DSW实例时有扩容过系统盘，即使停止实例运行，系统盘仍会持续计费。如果您想停止DSW实例相关的一切计费，请删除DSW实例。**删除前请务必确保必要数据已备份。**

- 启动DSW实例

  单击**启动**，再次使用已经被停止的实例。启动实例后，需要等待一段时间，当实例**状态**由**启动中**变为**运行中**时，表明DSW实例启动完成。

- [制作镜像](https://help.aliyun.com/zh/pai/user-guide/create-a-dsw-instance-image)

  单击**制作镜像**，按照界面操作指引，将当前运行中的DSW实例环境保存到个人版或企业版ACR中，后续您可以直接使用该镜像。

- 变更配置

  单击**变更配置**，您可以修改资源信息、环境信息和网络配置等。

- 定时关机设置

  单击**定时关机设置**后，您可以在对话框中打开**启用定时关机**，并设置**定时关机时间**，在指定的时间到达时，系统会自动停止DSW实例。您也可以在工作空间的[调度中心](https://help.aliyun.com/zh/pai/workspace-scheduling-center)设置DSW自动回收策略。

##### **区域⑤**

单击![image](https://cdn.jsdelivr.net/gh/Fly0905/note-picture@main/imag/202511251427702.png)，然后单击**删除**，即可删除DSW实例。

#### 4. 停止与释放的注意事项

为避免产生不必要的费用，请务必区分“停止”与“删除”的区别：

- **停止实例**：
  - 单击 **“停止”**，实例进入关机状态。
  - **数据保留规则**：使用公共资源（免费试用）创建的实例，停止后数据保留 **15 天**。若 15 天内未重启，环境将被释放。
  - **计费陷阱**：如果创建时**扩容过系统盘**（超过 100GB），即使实例已停止，扩容部分的磁盘费用仍会持续扣除。
- **删除实例**：
  - 单击 **“...”** > **“删除”**。
  - **彻底释放**：这是唯一能停止所有计费（包括扩容磁盘费）的操作。
  - **数据警示**：删除前请务必备份代码和模型，删除后数据不可恢复。

------

### 第四阶段：释放资源（防扣费操作）

**目标**：安全下车，不留隐患。

每次学习结束（如当你准备合上电脑睡觉时），请执行以下 **标准退场流程**：

1. **保存成果**
   - 微调后的模型权重文件（LoRA weights）通常不大。
   - 建议在 DSW 里的 Terminal 使用 `tar` 命令打包，然后**下载到本地电脑**。
   - *注意*：不要依赖 OSS 对象存储来长期存放大量数据，OSS 也是单独收费的。
2. **彻底删除实例**
   - 回到 PAI-DSW 控制台列表页。
   - 找到你的实例。
   - 点击右侧的 **“更多”** -> **“删除”**。
   - **再次强调**：虽然有“停止”按钮，但对于新手，我强烈建议直接 **“删除”**。
     - *理由*：删除是物理清除，绝无后患。下次学习时重新创建一个环境只需要 3-5 分钟，这比因为忘记关机或扩容磁盘而被扣几百块钱要划算得多。

------

### 常见“幽灵扣费”自查

如果您收到扣费短信，通常是以下原因，请立即核查：

1. **地域选错了**：选了不支持试用的地域（如中国香港等）。
2. **磁盘扩容了**：创建时手滑把系统盘拉到了 200GB。
3. **月度额度用超了**：本月跑了超过 36 小时（A10显卡），超出的部分开始计费。
4. **EAS/DLC 没关**：如果您尝试了 EAS（模型在线部署），那个非常贵，一定要去 EAS 页面把它也删掉。

## 参考链接

[阿里云DSW免费试用领取、使用和释放](https://help.aliyun.com/zh/pai/getting-started/free-trial-guide?spm=5176.smartservice_service_robot_chat_new.0.0.1d3d3a98uBTWjJ&__dialog_id=525566971&__url_role=2&scm=20140722.S_help%40%40%E6%96%87%E6%A1%A3%40%402858359._.ID_help%40%40%E6%96%87%E6%A1%A3%40%402858359-RL_PAI~DAS~DSW%E5%85%8D%E8%B4%B9%E8%AF%95%E7%94%A8-LOC_2024SPAllResult-OR_ser-PAR1_2150419e17640402225065487e191b-V_4-PAR3_o-RE_new5-P0_0-P1_0)