# Langfuse Docker éƒ¨ç½²æ–‡æ¡£è¯´æ˜Ž

## ðŸ“¦ å·²å®Œæˆçš„æ–‡æ¡£

æœ¬ç›®å½•åŒ…å«å®Œæ•´çš„ Langfuse Docker Compose éƒ¨ç½²æ–‡æ¡£ï¼Œä¸“ä¸º**å¤§æ¨¡åž‹æ™ºèƒ½ä½“è¯„ä¼°ä¸­é«˜çº§å­¦ä¹ è€…**è®¾è®¡ã€‚

---

## ðŸ“š æ–‡æ¡£æ¸…å•

### 1. **README.md** - æ–‡æ¡£å¯¼èˆªç´¢å¼•
- **ä½œç”¨**: ä¸»å…¥å£æ–‡æ¡£ï¼Œæä¾›å®Œæ•´å¯¼èˆªå’Œæ–‡æ¡£æ¦‚è§ˆ
- **é€‚åˆ**: æ‰€æœ‰ç”¨æˆ·ï¼Œäº†è§£æ•´ä½“ç»“æž„
- **åŒ…å«**: 
  - æ–‡æ¡£å¯¼èˆªæŒ‡å—
  - ä½¿ç”¨åœºæ™¯é€‰æ‹©
  - å¿«é€Ÿå‚è€ƒè¡¨
  - å­¦ä¹ è·¯å¾„å»ºè®®

### 2. **å¿«é€Ÿå¼€å§‹.md** - 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²
- **ä½œç”¨**: æœ€å¿«é€Ÿåº¦ä¸Šæ‰‹ Langfuse
- **é€‚åˆ**: åˆæ¬¡ä½¿ç”¨ã€å¿«é€Ÿä½“éªŒ
- **åŒ…å«**:
  - 3 æ­¥å¿«é€Ÿéƒ¨ç½²æµç¨‹
  - ä¸€é”®ç”Ÿæˆå®‰å…¨å¯†é’¥
  - SDK é›†æˆç¤ºä¾‹ï¼ˆPython, OpenAI, LangChainï¼‰
  - å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### 3. **éƒ¨ç½²æŒ‡å—.md** - å®Œæ•´éƒ¨ç½²æ‰‹å†Œï¼ˆ11,000+ å­—ï¼‰
- **ä½œç”¨**: ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²å®Œæ•´æŒ‡å—
- **é€‚åˆ**: ç”Ÿäº§éƒ¨ç½²ã€é«˜çº§é…ç½®
- **åŒ…å«**:
  - ç³»ç»Ÿæž¶æž„è¯¦è§£
  - å®Œæ•´é…ç½®è¯´æ˜Ž
  - å®‰å…¨åŠ å›ºæ–¹æ¡ˆ
  - æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
  - å¤‡ä»½ä¸Žæ¢å¤æ–¹æ¡ˆ
  - å‡çº§æŒ‡å—
  - æ•…éšœæŽ’æŸ¥

### 4. **docker-compose.yml** - å¸¦ä¸­æ–‡æ³¨é‡Šçš„é…ç½®æ–‡ä»¶
- **ä½œç”¨**: æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®Œæ•´ä¸­æ–‡æ³¨é‡Š
- **é€‚åˆ**: ç†è§£æž¶æž„ã€è‡ªå®šä¹‰é…ç½®
- **ç‰¹ç‚¹**:
  - âœ… æ¯ä¸ªæœåŠ¡è¯¦ç»†è¯´æ˜Ž
  - âœ… æ¯ä¸ªé…ç½®é¡¹ä¸­æ–‡æ³¨é‡Š
  - âœ… å®‰å…¨æç¤ºå’Œæœ€ä½³å®žè·µ
  - âœ… å‚æ•°ç”¨é€”å’Œè°ƒä¼˜å»ºè®®

### 5. **çŽ¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿.env** - é…ç½®æ¨¡æ¿
- **ä½œç”¨**: çŽ¯å¢ƒå˜é‡é…ç½®å‚è€ƒæ¨¡æ¿
- **é€‚åˆ**: åˆ›å»ºè‡ªå·±çš„ .env æ–‡ä»¶
- **åŒ…å«**:
  - æ‰€æœ‰çŽ¯å¢ƒå˜é‡å®Œæ•´åˆ—è¡¨
  - æ¯ä¸ªå˜é‡çš„è¯¦ç»†è¯´æ˜Ž
  - å¯†é’¥ç”Ÿæˆå‘½ä»¤
  - ä¸€é”®é…ç½®è„šæœ¬

### 6. **æ–‡æ¡£è¯´æ˜Ž.md** - æœ¬æ–‡ä»¶
- **ä½œç”¨**: æ–‡æ¡£ä½¿ç”¨æŒ‡å—
- **é€‚åˆ**: äº†è§£æ–‡æ¡£ç»“æž„

---

## ðŸŽ¯ ä½¿ç”¨æµç¨‹å»ºè®®

### æ–°æ‰‹è·¯å¾„

```
1. é˜…è¯» README.md
   â†“
2. æŒ‰ç…§"å¿«é€Ÿå¼€å§‹.md"éƒ¨ç½²
   â†“
3. æˆåŠŸè¿è¡ŒåŽï¼Œæµè§ˆ docker-compose.yml ä¸­çš„æ³¨é‡Š
   â†“
4. æ·±å…¥å­¦ä¹ "éƒ¨ç½²æŒ‡å—.md"ç‰¹å®šç« èŠ‚
```

### è¿›é˜¶è·¯å¾„

```
1. é˜…è¯» README.md
   â†“
2. å®Œæ•´é˜…è¯»"éƒ¨ç½²æŒ‡å—.md"
   â†“
3. ç ”ç©¶ docker-compose.yml æ¯ä¸ªé…ç½®é¡¹
   â†“
4. æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰é…ç½®
   â†“
5. å®žæ–½å®‰å…¨åŠ å›ºå’Œæ€§èƒ½ä¼˜åŒ–
```

### ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²è·¯å¾„

```
1. å®Œæ•´é˜…è¯»"éƒ¨ç½²æŒ‡å—.md"ï¼ˆå¿…é¡»ï¼ï¼‰
   â†“
2. æ£€æŸ¥"å‰ç½®è¦æ±‚"ç« èŠ‚ï¼Œç¡®ä¿çŽ¯å¢ƒæ»¡è¶³
   â†“
3. æŒ‰ç…§"å®‰å…¨åŠ å›º"ç« èŠ‚é…ç½®ï¼ˆå¿…é¡»ï¼ï¼‰
   â†“
4. ä½¿ç”¨"çŽ¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿.env"åˆ›å»º .env æ–‡ä»¶
   â†“
5. ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç å’Œå¯†é’¥ï¼ˆå¿…é¡»ï¼ï¼‰
   â†“
6. é…ç½® HTTPS å’Œé˜²ç«å¢™
   â†“
7. éƒ¨ç½²æœåŠ¡
   â†“
8. è®¾ç½®è‡ªåŠ¨å¤‡ä»½
   â†“
9. é…ç½®ç›‘æŽ§å‘Šè­¦
```

---

## ðŸ” æ–‡æ¡£ç‰¹è‰²

### 1. ä¸­æ–‡åŒ–ç¨‹åº¦
- âœ… 100% ä¸­æ–‡æ–‡æ¡£
- âœ… æŠ€æœ¯æœ¯è¯­ä¸­è‹±å¯¹ç…§
- âœ… æœ¬åœ°åŒ–ç¤ºä¾‹

### 2. æ³¨é‡Šè¯¦ç»†åº¦
- âœ… docker-compose.yml: æ¯ä¸ªé…ç½®é¡¹éƒ½æœ‰æ³¨é‡Š
- âœ… çŽ¯å¢ƒå˜é‡æ¨¡æ¿: æ¯ä¸ªå˜é‡éƒ½æœ‰è¯´æ˜Ž
- âœ… ä»£ç ç¤ºä¾‹: æ¯è¡Œä»£ç éƒ½æœ‰è§£é‡Š

### 3. å®žç”¨æ€§
- âœ… æä¾›å¯†é’¥ç”Ÿæˆå‘½ä»¤
- âœ… æä¾›ä¸€é”®é…ç½®è„šæœ¬
- âœ… æä¾›æ•…éšœæŽ’æŸ¥æ–¹æ¡ˆ
- âœ… æä¾›æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 4. å®Œæ•´æ€§
- âœ… ä»Žå®‰è£…åˆ°è¿ç»´å…¨æµç¨‹è¦†ç›–
- âœ… å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§çŽ¯å¢ƒéƒ½æœ‰æ–¹æ¡ˆ
- âœ… åŒ…å«å¤‡ä»½æ¢å¤å’Œå‡çº§æŒ‡å—

---

## ðŸ“– ç« èŠ‚æŽ¨è

### å¦‚æžœæ‚¨æƒ³...

**å¿«é€Ÿä½“éªŒ Langfuse**
â†’ é˜…è¯»: [å¿«é€Ÿå¼€å§‹.md](./å¿«é€Ÿå¼€å§‹.md)

**äº†è§£ç³»ç»Ÿæž¶æž„**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "ç³»ç»Ÿæ¦‚è¿°"ç« èŠ‚

**ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - å…¨æ–‡å¿…è¯»

**æŽ’æŸ¥é—®é¢˜**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "å¸¸è§é—®é¢˜"ç« èŠ‚
â†’ é˜…è¯»: [å¿«é€Ÿå¼€å§‹.md](./å¿«é€Ÿå¼€å§‹.md) - "æ•…éšœæŽ’æŸ¥"ç« èŠ‚

**ä¼˜åŒ–æ€§èƒ½**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "æ€§èƒ½ä¼˜åŒ–"ç« èŠ‚

**å¤‡ä»½æ•°æ®**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "æ•°æ®å¤‡ä»½ä¸Žæ¢å¤"ç« èŠ‚

**å‡çº§ç‰ˆæœ¬**
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "å‡çº§æŒ‡å—"ç« èŠ‚

**ç†è§£é…ç½®**
â†’ é˜…è¯»: [docker-compose.yml](./docker-compose.yml) - æŸ¥çœ‹æ³¨é‡Š
â†’ é˜…è¯»: [éƒ¨ç½²æŒ‡å—.md](./éƒ¨ç½²æŒ‡å—.md) - "è¯¦ç»†é…ç½®è¯´æ˜Ž"ç« èŠ‚

---

## ðŸ› ï¸ é…ç½®æ–‡ä»¶ä½¿ç”¨

### docker-compose.yml

```bash
# 1. ç›´æŽ¥ä½¿ç”¨ï¼ˆé»˜è®¤é…ç½®ï¼‰
docker compose up -d

# 2. éªŒè¯é…ç½®æ ¼å¼
docker compose config

# 3. æŸ¥çœ‹ç”Ÿæˆçš„å®Œæ•´é…ç½®
docker compose config > generated-config.yml

# 4. æŒ‡å®šé…ç½®æ–‡ä»¶
docker compose -f docker-compose.yml up -d
```

### çŽ¯å¢ƒå˜é‡é…ç½®

```bash
# 1. åˆ›å»º .env æ–‡ä»¶
cp çŽ¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿.env .env

# 2. ç¼–è¾‘ .env æ–‡ä»¶
nano .env  # æˆ–ä½¿ç”¨ vim, code ç­‰

# 3. éªŒè¯çŽ¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆ
docker compose config | grep POSTGRES_PASSWORD

# 4. ä¸€é”®ç”Ÿæˆå®‰å…¨é…ç½®
cat > .env << EOF
POSTGRES_PASSWORD=$(openssl rand -base64 24)
CLICKHOUSE_PASSWORD=$(openssl rand -base64 24)
ENCRYPTION_KEY=$(openssl rand -hex 32)
NEXTAUTH_SECRET=$(openssl rand -base64 32)
SALT=$(openssl rand -base64 32)
REDIS_AUTH=$(openssl rand -base64 24)
MINIO_ROOT_PASSWORD=$(openssl rand -base64 16)
NEXTAUTH_URL=http://localhost:3000
EOF
```

---

## âš¡ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡ï¼ˆå‰å°ï¼‰
docker compose up

# å¯åŠ¨æœåŠ¡ï¼ˆåŽå°ï¼‰
docker compose up -d

# åœæ­¢æœåŠ¡
docker compose down

# é‡å¯æœåŠ¡
docker compose restart

# é‡å¯å•ä¸ªæœåŠ¡
docker compose restart langfuse-web

# åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰æ•°æ®ï¼ˆå±é™©ï¼ï¼‰
docker compose down -v
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs

# å®žæ—¶æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose logs langfuse-web
docker compose logs postgres

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œæ—¥å¿—
docker compose logs --tail=100
```

### æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose ps

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats

# è¿›å…¥å®¹å™¨
docker compose exec langfuse-web sh
docker compose exec postgres psql -U postgres
```

### æ›´æ–°å’Œç»´æŠ¤

```bash
# æ‹‰å–æœ€æ–°é•œåƒ
docker compose pull

# æ›´æ–°æœåŠ¡
docker compose up -d --pull always

# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
docker system df
```

---

## ðŸ“Š æ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯

| é¡¹ç›® | ç‰ˆæœ¬ | æ›´æ–°æ—¥æœŸ |
|------|------|---------|
| æ–‡æ¡£ç‰ˆæœ¬ | v1.0 | 2025-01-22 |
| Langfuse | v3 | 2025-01 |
| Docker Compose | 2.0+ | - |

---

## ðŸ”— å¤–éƒ¨èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Langfuse å®˜ç½‘](https://langfuse.com)
- [Langfuse æ–‡æ¡£](https://langfuse.com/docs)
- [Docker éƒ¨ç½²æŒ‡å—](https://langfuse.com/self-hosting/deployment/docker-compose)
- [GitHub ä»“åº“](https://github.com/langfuse/langfuse)

### ç¤¾åŒºèµ„æº
- [Discord ç¤¾åŒº](https://discord.gg/7NXusRtqYU)
- [GitHub Discussions](https://github.com/langfuse/langfuse/discussions)
- [YouTube æ•™ç¨‹](https://www.youtube.com/@langfuse)

---

## ðŸ’¡ å­¦ä¹ å»ºè®®

### ç†è®ºå­¦ä¹ 

1. **ç†è§£ Langfuse çš„ä½œç”¨**
   - ä¸ºä»€ä¹ˆéœ€è¦ LLM è¿½è¸ªå’Œç›‘æŽ§ï¼Ÿ
   - Langfuse è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

2. **ç†è§£ç³»ç»Ÿæž¶æž„**
   - æ¯ä¸ªç»„ä»¶çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
   - ç»„ä»¶ä¹‹é—´å¦‚ä½•åä½œï¼Ÿ

3. **ç†è§£é…ç½®é€‰é¡¹**
   - æ¯ä¸ªçŽ¯å¢ƒå˜é‡çš„ä½œç”¨ï¼Ÿ
   - å¦‚ä½•æ ¹æ®åœºæ™¯è°ƒæ•´é…ç½®ï¼Ÿ

### å®žè·µå­¦ä¹ 

1. **æœ¬åœ°éƒ¨ç½²ä½“éªŒ**
   - æŒ‰ç…§"å¿«é€Ÿå¼€å§‹.md"éƒ¨ç½²
   - ç†Ÿæ‚‰ Web UI å„é¡¹åŠŸèƒ½
   - å°è¯• SDK é›†æˆç¤ºä¾‹

2. **é…ç½®å®žéªŒ**
   - ä¿®æ”¹ä¸åŒçš„é…ç½®å‚æ•°
   - è§‚å¯Ÿç³»ç»Ÿè¡Œä¸ºå˜åŒ–
   - ç†è§£é…ç½®é¡¹çš„å½±å“

3. **æ•…éšœæ¨¡æ‹Ÿ**
   - æ¨¡æ‹Ÿå¸¸è§æ•…éšœåœºæ™¯
   - ç»ƒä¹ æ•…éšœæŽ’æŸ¥æŠ€èƒ½
   - æŽŒæ¡æ¢å¤æ–¹æ³•

4. **æ€§èƒ½æµ‹è¯•**
   - æµ‹è¯•ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆ
   - å°è¯•æ€§èƒ½ä¼˜åŒ–æ–¹æ³•
   - éªŒè¯ä¼˜åŒ–æ•ˆæžœ

---

## ðŸ†˜ èŽ·å–å¸®åŠ©

å¦‚æžœåœ¨ä½¿ç”¨æ–‡æ¡£è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

### æ–‡æ¡£å†…æŸ¥æ‰¾
1. å…ˆæŸ¥é˜…"å¸¸è§é—®é¢˜"ç« èŠ‚
2. ä½¿ç”¨ Ctrl+F æœç´¢å…³é”®è¯
3. æŸ¥çœ‹ç›¸å…³ç« èŠ‚çš„è¯¦ç»†è¯´æ˜Ž

### å¤–éƒ¨æ±‚åŠ©
1. [GitHub Issues](https://github.com/langfuse/langfuse/issues)
2. [Discord ç¤¾åŒº](https://discord.gg/7NXusRtqYU)
3. [å®˜æ–¹æ–‡æ¡£](https://langfuse.com/docs)

---

## âœ¨ æ–‡æ¡£äº®ç‚¹

### 1. ç³»ç»Ÿæ€§
- ä»Žé›¶åˆ°ç”Ÿäº§çŽ¯å¢ƒçš„å®Œæ•´è·¯å¾„
- æ¶µç›–éƒ¨ç½²ã€é…ç½®ã€ä¼˜åŒ–ã€è¿ç»´å…¨ç”Ÿå‘½å‘¨æœŸ

### 2. å®žç”¨æ€§
- æä¾›å¯ç›´æŽ¥ä½¿ç”¨çš„å‘½ä»¤å’Œè„šæœ¬
- åŒ…å«çœŸå®žåœºæ™¯çš„è§£å†³æ–¹æ¡ˆ
- é™„å¸¦æ•…éšœæŽ’æŸ¥æµç¨‹

### 3. æ˜“ç†è§£æ€§
- 100% ä¸­æ–‡æ³¨é‡Š
- åˆ†æ­¥éª¤è¯¦ç»†è¯´æ˜Ž
- é…å›¾å’Œè¡¨æ ¼è¾…åŠ©ç†è§£

### 4. é¢å‘é«˜çº§å­¦ä¹ è€…
- ä¸ä»…å‘Šè¯‰"æ€Žä¹ˆåš"
- æ›´è§£é‡Š"ä¸ºä»€ä¹ˆè¿™ä¹ˆåš"
- æä¾›æ·±å…¥å­¦ä¹ çš„æ–¹å‘

---

**å¼€å§‹æ‚¨çš„ Langfuse ä¹‹æ—…å§ï¼** ðŸš€

å»ºè®®ä»Ž [README.md](./README.md) å¼€å§‹é˜…è¯»ã€‚

