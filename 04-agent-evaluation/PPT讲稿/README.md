# 第4周：掌握 Langfuse 技术，建立智能体评估与安全监控体系
## PPT讲稿使用指南

---

## 📁 文件结构

```
PPT讲稿/
├── README.md                              # 本文件
├── 00-课程总览.md                          # 课程概览和架构
├── 01-任务16-建立评估体系.md               # 第一课：评估基础
├── 02-任务17-Langfuse集成实战.md           # 第二课：基础集成
├── 03-任务18-追踪LangGraph多角色智能体.md   # 第三课：高级追踪
├── 04-任务19-构建LLM安全监控系统.md         # 第四课：安全监控
└── 05-课程总结与最佳实践.md                 # 总结和最佳实践
```

---

## 🎯 使用说明

### 适用对象
- **讲师**：作为PPT讲稿使用，包含完整的教学内容
- **学员**：作为学习笔记，系统掌握评估监控技术
- **开发者**：作为参考手册，快速查阅技术要点

### 学习顺序

**推荐按以下顺序学习：**

1. **00-课程总览.md** (10分钟)
   - 了解课程整体架构
   - 明确学习目标
   - 准备学习环境

2. **01-任务16-建立评估体系.md** (30分钟)
   - 理解评估的必要性
   - 学习指标设计方法
   - 掌握Langfuse基础概念

3. **02-任务17-Langfuse集成实战.md** (30分钟)
   - OpenAI SDK集成
   - LangChain集成
   - 实战演练

4. **03-任务18-追踪LangGraph多角色智能体.md** (40分钟)
   - LangGraph基础
   - 复杂工作流追踪
   - 多智能体协作

5. **04-任务19-构建LLM安全监控系统.md** (40分钟)
   - 安全威胁识别
   - 防护系统构建
   - 监控体系建立

6. **05-课程总结与最佳实践.md** (20分钟)
   - 回顾核心知识
   - 学习最佳实践
   - 了解进阶技巧

**总学习时长：约170分钟（2.8小时）**

---

## 📖 文档特色

### 1. 结构化内容

每个文档都包含：
- 🎯 **学习目标**：清晰的学习目标和交付成果
- 📊 **知识架构**：系统化的知识结构图
- 💡 **核心概念**：重点概念的详细解释
- 📝 **代码示例**：完整可运行的代码示例
- 🎯 **实战练习**：巩固学习的练习题

### 2. 多层次讲解

```
理论讲解
   ↓
概念图示
   ↓
代码示例
   ↓
运行结果
   ↓
最佳实践
```

### 3. 丰富的可视化

- **架构图**：系统架构和流程图
- **对比表**：功能和方法对比
- **示例图**：实际运行结果展示
- **思维导图**：知识体系梳理

---

## 💻 配套代码

### 代码位置
```
04-agent-evaluation/
├── langfuse/
│   ├── 01_01_integration_openai_sdk.ipynb
│   ├── 01_02_integration_langchain.ipynb
│   ├── 01_03_integration_langgraph.ipynb
│   ├── 02_evaluation_with_langchain.ipynb
│   ├── 03_example_langgraph_agents.ipynb
│   └── 04_example_llm_security_monitoring.ipynb
└── PPT讲稿/  # 本目录
```

### 运行代码

1. **环境准备**
   ```bash
   # 激活conda环境
   conda activate agent101
   
   # 安装依赖
   pip install langfuse==3.3.0 \
               openai==1.107.0 \
               langchain==0.3.27 \
               langgraph==0.6.7 \
               llm-guard==0.3.16
   ```

2. **配置密钥**
   ```bash
   # 设置环境变量
   export OPENAI_API_KEY="your-key"
   export LANGFUSE_PUBLIC_KEY="your-key"
   export LANGFUSE_SECRET_KEY="your-key"
   export LANGFUSE_HOST="https://cloud.langfuse.com"
   ```

3. **运行Notebook**
   ```bash
   # 启动Jupyter
   jupyter notebook
   
   # 选择对应的.ipynb文件运行
   ```

---

## 🎓 使用技巧

### 讲师使用

1. **课前准备**
   - 通读对应章节的讲稿
   - 准备好演示环境
   - 测试运行所有代码示例

2. **课堂讲授**
   - 按照讲稿结构授课
   - 适时展示代码运行效果
   - 引导学员参与实践

3. **互动环节**
   - 使用"实战练习"部分
   - 鼓励学员提问讨论
   - 分享最佳实践案例

### 学员使用

1. **预习**
   - 阅读"课程总览"了解架构
   - 准备好学习环境
   - 标记不理解的部分

2. **学习**
   - 跟随讲稿逐步学习
   - 动手运行所有代码
   - 在Langfuse中查看结果

3. **复习**
   - 完成"实战练习"
   - 阅读"最佳实践"
   - 应用到自己的项目

### 开发者使用

1. **快速查阅**
   - 使用文档内的目录跳转
   - 查找代码示例
   - 参考最佳实践

2. **深入研究**
   - 运行配套的Notebook
   - 修改参数观察效果
   - 对比不同方法的差异

3. **实际应用**
   - 复制代码模板
   - 根据需求调整
   - 参考troubleshooting

---

## 📊 知识图谱

```
Langfuse评估监控体系
├── 基础理论
│   ├── 评估的必要性
│   ├── 指标体系设计
│   └── Langfuse核心概念
│
├── 集成技术
│   ├── OpenAI SDK集成
│   ├── LangChain集成
│   └── LangGraph集成
│
├── 高级功能
│   ├── 多智能体追踪
│   ├── 性能分析
│   └── 成本优化
│
└── 安全监控
    ├── 威胁识别
    ├── 防护策略
    └── 监控告警
```

---

## 🔗 相关资源

### 官方文档
- [Langfuse官方文档](https://langfuse.com/docs)
- [OpenAI API文档](https://platform.openai.com/docs)
- [LangChain文档](https://python.langchain.com/)
- [LangGraph文档](https://langchain-ai.github.io/langgraph/)

### 配套视频
- 课程视频录播（如有）
- 技术分享会回放
- 案例演示视频

### 社区支持
- 课程讨论组
- GitHub Issue
- Stack Overflow

---

## 💡 常见问题

### Q1: 如何快速定位需要的内容？

**A:** 每个文档开头都有清晰的目录结构，可以快速跳转到需要的章节。

### Q2: 代码示例运行失败怎么办？

**A:** 
1. 检查环境配置是否正确
2. 确认API密钥有效
3. 查看错误信息定位问题
4. 参考配套Notebook中的完整代码

### Q3: 如何将学到的知识应用到实际项目？

**A:**
1. 从简单的追踪开始
2. 逐步添加评估指标
3. 根据需求选择功能
4. 参考"最佳实践"部分

### Q4: 学习顺序可以调整吗？

**A:** 
- 推荐按顺序学习，因为有知识依赖
- 如果有基础，可以跳过"基础概念"部分
- "最佳实践"可以在任何时候查阅

---

## 📝 反馈与改进

### 如何反馈

如果你发现：
- 内容错误或过时
- 代码示例有问题
- 表述不清楚的地方
- 需要补充的内容

请通过以下方式反馈：
1. 提交GitHub Issue
2. 在讨论组发帖
3. 联系课程负责人

### 持续更新

本讲稿会根据：
- Langfuse版本更新
- 最佳实践演进
- 学员反馈建议

进行持续更新和改进。

---

## 📄 版本信息

- **版本号**: v1.0.0
- **创建日期**: 2025-11-04
- **适用版本**: 
  - Langfuse: 3.3.0
  - OpenAI: 1.107.0
  - LangChain: 0.3.27
  - LangGraph: 0.6.7
  - LLM Guard: 0.3.16

---

## 📜 许可证

本讲稿遵循 [MIT License](../LICENSE) 开源协议。

---

## 🙏 致谢

感谢：
- Langfuse团队提供优秀的工具
- 所有贡献者的反馈和建议
- 学员们的积极参与

---

**祝你学习愉快！** 🎉

**有问题随时提问，我们一起进步！** 💪


